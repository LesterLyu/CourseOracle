{"version":3,"sources":["constants/index.js","contexts/userContext.js","components/AppBar/NavLink.js","components/AppBar/index.js","components/Background/index.js","config.js","utils/errors.js","api/helpers.js","pages/Home.js","components/SubmitButton/index.js","api/auth.js","pages/Login.js","pages/Register.js","components/Link.js","api/material.js","pages/Materials/RateMaterial.js","pages/Materials/RewardOfferer.js","pages/Materials/Checkout.js","pages/Materials/CourseMaterial.js","pages/Rating/CourseRatings.js","api/course.js","pages/Course/index.js","pages/Institutes/SchoolCard.js","pages/Institutes/Institutions.js","pages/Upload/Upload.js","routes/HomeRoute/config.js","pages/Prof/index.js","routes/HomeRoute/index.js","pages/Dashboard/Profile.js","api/transaction.js","routes/DashboardRoute/config.js","pages/Dashboard/MyMaterials.js","pages/Dashboard/MyReviews.js","pages/Dashboard/Purchase.js","pages/Dashboard/RateCourse.js","pages/Dashboard/UploadCourseMaterial.js","pages/Dashboard/Transaction.js","pages/Dashboard/NavPanel.js","routes/DashboardRoute/index.js","App.js","reportWebVitals.js","index.js"],"names":["USER_TYPE","localData","JSON","parse","localStorage","getItem","defaultUserData","firstName","lastName","email","type","login","logout","UserContext","React","createContext","NavLink","children","href","history","useHistory","Link","variant","color","underline","sx","paddingRight","fontSize","onClick","e","preventDefault","push","AppBar","userContext","useContext","navigateTo","path","Box","flexGrow","position","bgcolor","Toolbar","src","process","height","style","Typography","component","pr","cursor","display","Button","ml","LoginBackgroundWrapper","background","HomeBackgroundWrapper","backgroundImage","backgroundSize","server","address","RECEIVER_ADDRESS","REACT_APP_RECEIVER_ADDRESS","SessionExpiredError","Error","checkResponse","json","error","code","removeItem","window","stop","location","replace","postJson","url","data","a","fetch","method","body","stringify","undefined","headers","credentials","response","getJson","Search","styled","theme","borderRadius","shape","backgroundColor","alpha","palette","common","white","marginLeft","width","StyledCheckbox","padding","spacing","pointerEvents","alignItems","justifyContent","InputBase","paddingLeft","Checkbox","Radio","StyledButton","StyledCircularProgress","CircularProgress","top","left","marginTop","SubmitButton","loading","props","noDefaultStyle","disabled","size","password","register","StyledPaper","Paper","breakpoints","down","margin","StyledLink","lineHeight","fontWeight","Copyright","align","Date","getFullYear","textDecoration","purchaseMaterial","materialId","userEmail","rateMaterial","rate","tipMaterial","tip","RateMaterial","product","handleClose","materials","setMaterials","useState","rating","setRating","submitRateHandle","id","res","alert","newMaterials","forEach","element","status","Grid","widgetRatedColors","changeRating","newRating","Widget","RewardOfferer","rewardAmount","setRewardAmount","placeholder","onChange","target","value","StyledListItem","ListItem","Checkout","submitCheckoutHandle","Fragment","gutterBottom","List","ListItemText","primary","school","course","year","semester","prof","secondary","price","StyledCard","Card","flexDirection","CourseMaterial","courseName","instituteName","professors","setCourseInfo","anchorPosition","setAnchorPosition","currId","setCurrId","getData","tmp","courseMaterial","useEffect","callGetData","handleClick","event","clientY","clientX","buttonVariant1","setButtonVariant1","buttonVariant2","setButtonVariant2","buttonVariant3","setButtonVariant3","buttonVariant4","setButtonVariant4","buttonVariant5","setButtonVariant5","filter","container","item","pt","map","m","xs","sm","md","CardMedia","paddingTop","image","cover_page","title","CardContent","offer_by","p","like","unlike","CardActions","Popover","open","Boolean","anchorReference","onClose","anchorOrigin","vertical","horizontal","transformOrigin","semesterOptions","ratingFormStyle","CourseRatings","insituteName","setData","console","log","courseCode","setProf","Array","from","Set","obj","params","useParams","institute","semesters","setSemester","profOptions","profs","newProf","setNewProf","newScore","setNewScore","newComment","setNewComment","newYear","setNewYear","newSemester","setNewSemester","onChain","setOnChain","handleSubmit","score","comment","pl","FormControl","InputLabel","Select","labelId","multiple","input","Input","minWidth","MenuItem","includes","isSemesterInclude","isProfInclude","border","borderRight","borderBottom","user","chainTransactionID","Tooltip","placement","borderLeft","_id","onSubmit","pb","Rating","name","newValue","stype","LocalizationProvider","dateAdapter","AdapterDateFns","DatePicker","views","label","renderInput","TextField","helperText","Autocomplete","freeSolo","options","disableClearable","onInputChange","required","rows","cols","FormControlLabel","control","checked","getCourseData","StyledTab","Tab","textTransform","SchoolCard","rest","Avatar","alt","Divider","schools","StyledContainer","Container","flexed","borderWidth","borderStyle","outline","config","exact","Component","checkedA","checkedB","checkedC","state","setState","instituteLst","setInstituteLst","courseLst","setCourseLst","selectedInstitute","setSelectedInstitute","selectedCourse","setSelectedCourse","handleChange","handleInstituteChange","handleCourseChange","justify","fontFamily","direction","InputProps","startAdornment","InputAdornment","orientation","length","autoHighlight","FormGroup","row","mt","endIcon","waiting","setWaiting","prev","submit","then","result","success","message","maxWidth","elevation","onKeyPress","key","stopPropagation","marginBottom","fullWidth","minHeight","autoComplete","autoFocus","useLocation","tabValue","setTabValue","courseData","setCourseData","pathname","toLowerCase","endsWith","idx","description","borderColor","mb","Tabs","py","lg","useDropzone","acceptedFiles","getRootProps","getInputProps","files","file","className","startIcon","HomeRoute","ProfilePage","deposit","hash","amount","withdraw","Profile","depositAmount","setDepositAmount","withdrawAmount","setWithdrawAmount","accountAddress","setAccountAddress","depositWaiting","setDepositWaiting","withdrawWaiting","setWithdrawWaiting","conflux","enable","acc","tx","confluxJS","sendTransaction","to","executed","confirmed","parseInt","navConfig","Icon","Person","Storage","Reviews","Store","RateReview","UploadFile","Help","AttachMoney","NavPanel","marginRight","MenuList","dense","paddingBottom","ListItemIcon","DashboardRoute","username","createTheme","isOnGithubIO","hostname","App","userData","setItem","setUserState","userState","ThemeProvider","CssBaseline","Provider","basename","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.23835bff.chunk.js","sourcesContent":["export const USER_TYPE = {\n  GUEST: 0,\n  BASIC_USER: 1,\n  ADMIN: 2\n}","import React from 'react';\nimport {USER_TYPE} from '../constants';\n\nconst localData = JSON.parse(localStorage.getItem('userData'));\n\nexport const defaultUserData = {\n  firstName: '',\n  lastName: '',\n  email: '',\n  type: USER_TYPE.GUEST,\n  ...(localData || {}),\n  // ...\n\n  // Methods to modify user context.\n  // The below functions are implemented in App.js, where the UserContext.Provider is used.\n  // Placeholders are for IDE to make suggestions.\n  login: () => {\n  },\n  logout: () => {\n  },\n};\n\n\n\nexport const UserContext = React.createContext(defaultUserData);\n","import * as React from \"react\";\nimport {Link} from \"@material-ui/core\";\nimport {useHistory} from \"react-router-dom\";\n\nexport default function NavLink({children, href}) {\n  const history = useHistory();\n  return (\n    <Link\n      href={href}\n      variant=\"h6\"\n      color=\"inherit\"\n      underline=\"none\"\n      sx={{paddingRight: 4, fontSize: 17}}\n      onClick={e => {\n        e.preventDefault();\n        history.push(href)\n      }}>\n      {children}\n    </Link>\n  )\n}\n","import React, {useContext} from 'react';\nimport MuiAppBar from '@material-ui/core/AppBar';\nimport Box from '@material-ui/core/Box';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport NavLink from './NavLink'\nimport {useHistory} from \"react-router-dom\";\nimport {UserContext} from \"../../contexts\";\nimport {USER_TYPE} from \"../../constants\";\n\nexport default function AppBar() {\n  const history = useHistory();\n  const userContext = useContext(UserContext);\n\n  const navigateTo = (path) => () => history.push(path);\n\n  return (\n    <Box sx={{flexGrow: 1}}>\n      <MuiAppBar position=\"static\" sx={{bgcolor: \"#242424\"}}>\n        <Toolbar>\n          <img src={process.env.PUBLIC_URL + '/logo3.png'} height={30} style={{paddingRight: 8}}/>\n          <Typography variant=\"h6\" component=\"div\" sx={{pr: 6, cursor: 'pointer'}} onClick={navigateTo('/')}>\n            Course Oracle\n          </Typography>\n          <Box sx={{display: 'flex', flexGrow: 6}}>\n            <NavLink href={\"/\"}>\n              Search\n            </NavLink>\n            <NavLink href={\"/courses\"}>\n              Courses\n            </NavLink>\n            <NavLink href={\"/institutes\"}>\n              Institutes\n            </NavLink>\n          </Box>\n\n          <Button color=\"inherit\" onClick={navigateTo('/faq')}>FAQ</Button>\n          {userContext.type === USER_TYPE.GUEST ? (\n            <>\n              <Button color=\"inherit\" onClick={navigateTo('/register')}>Register</Button>\n              <Button color={\"inherit\"} variant=\"outlined\" sx={{ml: 1}}\n                      onClick={navigateTo('/login')}>Login</Button>\n            </>\n          ) : (\n            <>\n              <Button color=\"inherit\" onClick={navigateTo('/dashboard')}>Dashboard</Button>\n              <Button color=\"inherit\" onClick={() => userContext.logout() || history.push('/')}>log out</Button>\n            </>\n          )\n          }\n\n        </Toolbar>\n      </MuiAppBar>\n    </Box>\n  );\n}\n","import Box from \"@material-ui/core/Box\";\n\nexport function LoginBackgroundWrapper({children}) {\n  return <Box sx={{\n    height: 'calc(100vh - 64px)',\n    background: 'linear-gradient(to bottom, #a285d4 0%,#6f90b3 100%)'\n  }}>\n    {children}\n  </Box>\n}\n\nexport function HomeBackgroundWrapper({children}) {\n  return <Box sx={{\n    height: 'calc(100vh - 64px)',\n    backgroundImage: `url(\"${process.env.PUBLIC_URL}/homepage_bg-min.jpg\")`,\n    backgroundSize: '1920px 1280px'\n  }}>\n    {children}\n  </Box>\n}\n","export const server = {\n  address: process.env.NODE_ENV === 'production' ? 'https://co.lesterlyu.com' : 'http://localhost:3001',\n};\n\nexport const RECEIVER_ADDRESS = process.env.REACT_APP_RECEIVER_ADDRESS || \"cfxtest:aaph5gjm3g9muk0r3e5pmka6gsrjnhh5zjpkk104pp\"","export class SessionExpiredError extends Error {\n  constructor() {\n    super('Login Session Expired. Redirecting to login page.');\n  }\n}","import {server} from '../config';\nimport {SessionExpiredError} from \"../utils/errors\";\n\n// Check if the session expired\n// If expired, remove localStorage and redirect to login page.\nexport const checkResponse = (json) => {\n  if (json.error === true && json.code === 2) {\n    localStorage.removeItem('userContext');\n    window.stop();\n    window.location.replace('/login');\n    throw new SessionExpiredError();\n  }\n  return json;\n}\n\nexport const postJson = async (url, data) => {\n  const response = await fetch(`${server.address}${url}`, {\n    method: 'POST',\n    body: data ? JSON.stringify(data) : undefined,\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    credentials: 'include'\n  });\n  return checkResponse(await response.json());\n};\n\nexport const getJson = async (url) => {\n  const response = await fetch(`${server.address}${url}`, {\n    method: 'GET',\n    credentials: 'include'\n  });\n  return checkResponse(await response.json());\n};\n\nexport const putJson = async (url, data) => {\n  const response = await fetch(`${server.address}${url}`, {\n    method: 'PUT',\n    body: data ? JSON.stringify(data) : undefined,\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    credentials: 'include'\n  });\n  return checkResponse(await response.json());\n};\n\nexport const deleteJson = async (url, data) => {\n  const response = await fetch(`${server.address}${url}`, {\n    method: 'DELETE',\n    body: data ? JSON.stringify(data) : undefined,\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    credentials: 'include'\n  });\n  return checkResponse(await response.json());\n};","import React, {useState, useEffect} from 'react';\nimport {useHistory} from 'react-router-dom';\n// See https://next.material-ui.com/system/styled/\nimport {styled, alpha} from '@material-ui/core/styles';\nimport {Autocomplete, Container, InputBase, Paper, TextField} from \"@material-ui/core\";\nimport {Search as SearchIcon} from \"@material-ui/icons\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Box from \"@material-ui/core/Box\";\nimport FormGroup from '@material-ui/core/FormGroup';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Button from '@material-ui/core/Button';\nimport ArrowForwardSharpIcon from '@material-ui/icons/ArrowForwardSharp';\nimport {Grid} from '@material-ui/core';\nimport {HomeBackgroundWrapper} from \"../components/Background\";\nimport SchoolIcon from '@material-ui/icons/School';\nimport Divider from '@material-ui/core/Divider';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport {getJson} from \"../api/helpers\"\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\n\n\nconst Search = styled('div')(({theme}) => ({\n  position: 'relative',\n  borderRadius: theme.shape.borderRadius,\n  backgroundColor: alpha(theme.palette.common.white, 0.15),\n  '&:hover': {\n    backgroundColor: alpha(theme.palette.common.white, 0.25),\n  },\n  marginLeft: 0,\n  width: '100%',\n}));\n\nconst SearchIconWrapper = styled('div')(({theme}) => ({\n  padding: theme.spacing(0, 2),\n  height: '100%',\n  position: 'absolute',\n  pointerEvents: 'none',\n  display: 'flex', alignItems: 'center',\n  justifyContent: 'center',\n}));\n\nconst StyledInputBase = styled(InputBase)(({theme}) => ({\n  color: 'inherit',\n  '& .MuiInputBase-input': {\n    padding: theme.spacing(1, 1, 1, 0),\n    // vertical padding + font size from searchIcon\n    paddingLeft: `calc(1em + ${theme.spacing(4)})`,\n    width: '100%',\n  },\n}));\n\nconst StyledCheckbox = styled(Checkbox)(({\n  color: '#ccc',\n  '&.Mui-checked': {\n    color: '#ccc',\n  },\n}));\n\nconst StyledRadioButton = styled(Radio)(({\n  color: '#ccc',\n  '&.Mui-checked': {\n    color: '#ccc',\n  },\n}));\n\nexport default function HomePage() {\n  const history = useHistory();\n  const [state, setState] = useState({\n    checkedA: true,\n    checkedB: true,\n    checkedC: true,\n  });\n\n  const [instituteLst, setInstituteLst] = useState([]);\n  const [courseLst, setCourseLst] = useState([]);\n  const [selectedInstitute, setSelectedInstitute] = useState('');\n  const [selectedCourse, setSelectedCourse] = useState('');\n\n  useEffect(() => {\n    (async function () {\n      const url = '/api/universities';\n      const instituteLst = await getJson(url)\n      console.log('results', instituteLst.data)\n      setInstituteLst(instituteLst.data)\n    })()\n  }, [])\n\n\n  useEffect(() => {\n    (async function () {\n      const url = '/api/courses?institute=' + selectedInstitute;\n      const courseLst = await getJson(url)\n      console.log('course results')\n      console.log(courseLst)\n      setCourseLst(courseLst.data)\n\n      return courseLst;\n    })()\n\n  }, [selectedInstitute])\n\n  const handleChange = (event) => {\n    setState({...state, [event.target.name]: event.target.checked});\n  };\n\n\n  const handleInstituteChange = async (event, value) => {\n    setSelectedInstitute(value);\n  };\n\n  const handleCourseChange = async (event, value) => {\n    setSelectedCourse(value);\n  };\n\n\n  return (\n    <HomeBackgroundWrapper>\n      <Container justify=\"center\">\n\n        <Box sx={{display: 'flex'}}>\n          <Typography variant={\"h1\"} fontFamily={'sans-serif'} fontSize={60}\n                      sx={{pt: 5, color: \"#eee\", fontWeight: 500, pb: 5}}>\n            Course Oracle\n          </Typography>\n        </Box>\n\n        <Paper sx={{height: '300px', pt: 5, borderRadius: 10, bgcolor: 'rgb(36,36,36, 0.85)'}}>\n\n          <Grid container spacing={4} sx={{marginTop: '40px'}} justifyContent=\"center\">\n            <Grid item xs={6} md={8}>\n              <Grid container direction={'column'} alignItems=\"stretch\">\n                <Grid item>\n                  <Paper sx={{height: 70}}>\n                    <Search>\n                      <Grid spacing={1} container direction={'row'} sx={{height: 60}}>\n                        <Grid item sx={{width: '60%'}}>\n                          <Autocomplete\n                            options={instituteLst}\n                            disableClearable\n                            onInputChange={handleInstituteChange}\n                            renderInput={(params) => (\n                              <TextField {...params}\n                                         label=\"Institute Name\"\n                                         InputProps={{\n                                           ...(params.InputProps),\n                                           startAdornment: (\n                                             <InputAdornment position=\"start\">\n                                               <SchoolIcon/>\n                                             </InputAdornment>\n                                           ),\n                                         }}\n                              />\n                            )}\n\n                          />\n                        </Grid>\n\n                        <Grid item>\n                          <Divider sx={{height: 50, m: 0.5}} orientation=\"vertical\"/>\n                        </Grid>\n\n\n                        <Grid item xs justifyContent=\"center\">\n                          {selectedInstitute.length > 0 &&\n                          <Autocomplete\n                            autoHighlight\n                            freeSolo\n                            options={courseLst}\n                            disableClearable\n                            onInputChange={handleCourseChange}\n                            renderInput={(params) => (\n                              <TextField {...params} label=\"Course Code\" variant=\"outlined\"\n                                         InputProps={{\n                                           ...(params.InputProps),\n                                           startAdornment: (\n                                             <InputAdornment position=\"start\">\n                                               <SearchIcon/>\n                                             </InputAdornment>\n                                           ),\n                                         }}\n                              />\n                            )}\n                          />}\n\n                        </Grid>\n\n                      </Grid>\n                    </Search>\n                  </Paper>\n                </Grid>\n\n                <Grid item>\n                  <Box sx={{pt: 2}}>\n                    {/*============================Do not delete! this is for multiple choices=====================*/}\n                    <FormGroup row>\n                      <FormControlLabel\n                        sx={{color: 'white'}}\n                        control={\n                          <StyledCheckbox\n                            checked={state.checkedA}\n                            onChange={handleChange}\n                            name=\"checkedA\"\n                            color=\"primary\"\n                          />\n                        }\n                        label=\"Course Materials\"\n                      />\n\n                      <FormControlLabel\n                        sx={{color: 'white'}}\n                        control={\n                          <StyledCheckbox\n                            checked={state.checkedC}\n                            onChange={handleChange}\n                            name=\"checkedC\"\n                            color=\"primary\"\n                          />\n                        }\n                        label=\"Course Ratings\"\n                      />\n                    </FormGroup>\n\n                    {/*<RadioGroup row name=\"row-radio-buttons-group\">*/}\n                    {/*  <FormControlLabel value=\"CourseMaterials\" sx={{color: 'white'}}*/}\n                    {/*                    control={<StyledRadioButton*/}\n                    {/*                      checked={state.checkedA}*/}\n                    {/*                      onChange={handleChange}*/}\n                    {/*                      name=\"checkedA\"*/}\n                    {/*                      color=\"primary\"/>} label=\"Course Materials\"/>*/}\n\n                    {/*  <FormControlLabel value=\"CourseRatings\" sx={{color: 'white'}}*/}\n                    {/*                    control={<StyledRadioButton*/}\n                    {/*                      checked={state.checkedB}*/}\n                    {/*                      onChange={handleChange}*/}\n                    {/*                      name=\"checkedB\"*/}\n                    {/*                      color=\"primary\"/>} label=\"Course Ratings\"/>*/}\n                    {/*</RadioGroup>*/}\n                  </Box>\n                </Grid>\n\n              </Grid>\n            </Grid>\n\n            <Grid item xs={4} md={2}>\n              <Button\n                sx={{mt: '-1px'}}\n                size=\"large\"\n                variant=\"contained\"\n                color=\"primary\"\n                endIcon={<ArrowForwardSharpIcon/>}\n                onClick={() => {\n                  history.push(`/course/${selectedInstitute}/${selectedCourse}`);\n                }}\n              >\n                Search\n              </Button>\n            </Grid>\n          </Grid>\n        </Paper>\n\n      </Container>\n    </HomeBackgroundWrapper>\n  )\n}\n","import React from \"react\";\nimport {Button, CircularProgress, Box} from \"@material-ui/core\";\nimport {styled} from \"@material-ui/core\";\n\n\nconst StyledButton = styled(Button)(() => ({\n  backgroundColor: '#3b924a',\n  '&:hover': {\n    backgroundColor: '#219d3a',\n  },\n  '&:active': {\n    backgroundColor: '#3b924a',\n  },\n}));\n\nconst StyledCircularProgress = styled(CircularProgress)((() => ({\n  position: 'absolute',\n  top: '50%',\n  left: '50%',\n  marginTop: -12,\n  marginLeft: -12,\n})));\n\n\nexport default function SubmitButton({loading, children, noDefaultStyle, ...props}) {\n\n  return (\n    <Box sx={{\n      position: 'relative',\n      display: 'initial'\n    }}>\n      <StyledButton variant=\"contained\"\n               disabled={loading}\n               {...props}>\n        {children ? children : \"Submit\"}\n      </StyledButton>\n      {loading && <StyledCircularProgress size={24}/>}\n    </Box>\n  )\n}\n","import { postJson, getJson, putJson } from \"./helpers\";\n\nexport const login = async (email, password) => {\n  return await postJson('/api/login', {email, password});\n};\n\nexport const register = async (data) => {\n  return await postJson('/api/register', data);\n};\n\nexport const logout = async () => {\n  return await postJson('/api/logout');\n}\n","import React, {useContext, useState} from \"react\";\nimport {useHistory} from 'react-router-dom';\nimport {Link, Container, Divider, Paper, Typography, TextField, Box, Button} from \"@material-ui/core\";\nimport {UserContext} from \"../contexts\";\nimport SubmitButton from '../components/SubmitButton';\nimport {styled} from \"@material-ui/core/styles\";\nimport {LoginBackgroundWrapper} from \"../components/Background\";\nimport {USER_TYPE} from \"../constants\";\nimport {login} from \"../api/auth\";\n\nconst StyledPaper = styled(Paper)(({theme}) => ({\n  padding: 40,\n  [theme.breakpoints.down('sm')]: {\n    margin: 0,\n    padding: 14,\n    marginTop: 10,\n  }\n}));\n\nconst StyledLink = styled(Link)(({theme}) => ({\n  fontSize: 15,\n  lineHeight: 2,\n  color: '#007dff',\n  cursor: 'pointer',\n  fontWeight: 500\n}));\n\n\nexport default function LoginPage() {\n  const history = useHistory();\n  const userContext = useContext(UserContext);\n\n  if (userContext.type !== USER_TYPE.GUEST) {\n    history.push('/dashboard');\n  }\n  const [state, setState] = useState({\n    email: '',\n    password: '',\n    alert: ''\n  });\n  const [waiting, setWaiting] = useState(false);\n\n  const handleChange = name => e => {\n    const value = e.target.value;\n    setState(prev => ({...prev, [name]: value}));\n  };\n\n  const submit = () => {\n    setWaiting(true);\n\n    login(state.email, state.password)\n      .then(result => {\n        if (result.success) {\n          userContext.login({\n            email: result.data.email, type: USER_TYPE.BASIC_USER\n          });\n          history.push('/dashboard');\n        } else {\n          setWaiting(false);\n          setState(state => ({...state, alert: result.message}));\n        }\n      })\n\n  };\n\n  // Submit the form when enter key presses\n  const handleKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      e.preventDefault();\n      e.stopPropagation();\n      submit();\n    }\n  }\n\n  return (\n    <LoginBackgroundWrapper>\n      <Container maxWidth=\"sm\">\n        <Box sx={{paddingTop: '40px'}}/>\n        <StyledPaper elevation={5} onKeyPress={handleKeyPress}>\n          <Typography variant=\"h4\" sx={{\n            color: 'rgb(0,32,81)',\n            fontWeight: 400,\n            marginBottom: 3,\n          }}>\n            Login\n          </Typography>\n\n          <TextField\n            label=\"Email\"\n            value={state.email}\n            fullWidth\n            onChange={handleChange('email')}\n            sx={{minHeight: '80px'}}\n          />\n          <br/>\n          <TextField label=\"Password\"\n                     type=\"password\"\n                     value={state.password}\n                     fullWidth\n                     onChange={handleChange('password')}\n                     sx={{minHeight: '80px'}}\n                     helperText={state.alert}\n                     error={!!state.alert}\n          />\n          <SubmitButton sx={{\n            marginTop: 3,\n            marginBottom: 3\n          }} onClick={submit} loading={waiting}>\n            Log in\n          </SubmitButton>\n\n          <Button\n            color=\"info\"\n            variant=\"contained\"\n            sx={{\n              marginLeft: 2,\n              marginTop: 3,\n              marginBottom: 3\n            }}>\n            Log in from Wallet\n          </Button>\n\n          <Divider/>\n          <StyledLink variant=\"body2\" onClick={() => history.push('/register')}>\n            Don't have an account? Sign up\n          </StyledLink>\n          <br/>\n          <StyledLink variant=\"body2\">\n            Forgot password?\n          </StyledLink>\n        </StyledPaper>\n      </Container>\n    </LoginBackgroundWrapper>\n  )\n}","import React, {useState} from 'react';\nimport {Box, Checkbox, Container, FormControlLabel, Grid, Link, Paper, TextField, Typography} from \"@material-ui/core\";\nimport {useHistory} from 'react-router-dom';\nimport SubmitButton from '../components/SubmitButton';\nimport {styled} from \"@material-ui/core/styles\";\nimport {LoginBackgroundWrapper} from \"../components/Background\";\nimport {register} from \"../api/auth\";\n\nfunction Copyright() {\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      {'Copyright  '}\n      <Link color=\"inherit\" href=\"/\">\n        CourseOracle\n      </Link>{' '}\n      {new Date().getFullYear()}\n      {'.'}\n    </Typography>\n  );\n}\n\nconst StyledPaper = styled(Paper)(({theme}) => ({\n  padding: 40,\n  [theme.breakpoints.down('sm')]: {\n    margin: 0,\n    padding: 14,\n    marginTop: 10,\n  }\n}));\n\nconst StyledLink = styled(Link)(({theme}) => ({\n  fontSize: 15,\n  lineHeight: 2,\n  color: '#007dff',\n  cursor: 'pointer',\n  fontWeight: 500\n}));\n\nexport default function RegisterPage() {\n  const history = useHistory();\n  const [state, setState] = useState({\n    firstName: '',\n    lastName: '',\n    email: '',\n    password: '',\n    alert: ''\n  });\n  const [waiting, setWaiting] = useState(false);\n\n  const handleChange = name => e => {\n    const value = e.target.value;\n    setState(prev => ({...prev, [name]: value}));\n  };\n\n  const submit = () => {\n    setWaiting(true);\n    const {password, email, firstName, lastName} = state;\n    register({password, email, firstName, lastName})\n      .then(result => {\n        if (result.success) {\n          history.push('/login');\n        } else {\n          setWaiting(false);\n          setState(state => ({...state, alert: result.message}));\n        }\n      })\n\n  };\n\n  const handleKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      e.preventDefault();\n      e.stopPropagation();\n      submit();\n    }\n  }\n\n  return (\n    <LoginBackgroundWrapper>\n      <Container maxWidth=\"sm\">\n        <Box sx={{paddingTop: '40px'}}/>\n        <StyledPaper elevation={5} onKeyPress={handleKeyPress}>\n          <Typography variant=\"h4\" sx={{\n            color: 'rgb(0,32,81)',\n            fontWeight: 400,\n            marginBottom: 3,\n          }}>\n            Sign up\n          </Typography>\n          <Grid container spacing={2}>\n            <Grid item xs={12}>\n              <TextField\n                autoComplete=\"fname\"\n                name=\"firstName\"\n                variant=\"outlined\"\n                required\n                fullWidth\n                id=\"firstName\"\n                label=\"First Name\"\n                value={state.firstName}\n                onChange={handleChange('firstName')}\n                autoFocus\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                id=\"lastName\"\n                label=\"Last Name\"\n                name=\"lastName\"\n                value={state.lastName}\n                onChange={handleChange('lastName')}\n                autoComplete=\"lname\"\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                id=\"email\"\n                label=\"Email Address\"\n                name=\"email\"\n                value={state.email}\n                onChange={handleChange('email')}\n                autoComplete=\"email\"\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                id=\"confirmEmail\"\n                label=\"Confirm Email\"\n                name=\"email\"\n                autoComplete=\"confirmEmail\"\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                name=\"password\"\n                label=\"Password\"\n                type=\"password\"\n                id=\"password\"\n                value={state.password}\n                onChange={handleChange('password')}\n                helperText={state.alert}\n                error={!!state.alert}\n                autoComplete=\"current-password\"\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                name=\"confirmPassword\"\n                label=\"Confirm Password\"\n                type=\"password\"\n                id=\"confirmPassword\"\n                autoComplete=\"confirmPassword\"\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <FormControlLabel\n                control={<Checkbox value=\"allowExtraEmails\" color=\"primary\"/>}\n                label=\"I agree to the terms of use and privacy policy.\"\n              />\n            </Grid>\n          </Grid>\n          <SubmitButton\n            onClick={submit} loading={waiting}\n          >\n            Sign Up\n          </SubmitButton>\n          <Grid container justifyContent=\"flex-end\">\n            <Grid item>\n              <StyledLink variant=\"body2\" onClick={() => history.push('/login')}>\n                Already have an account? Sign in\n              </StyledLink>\n            </Grid>\n          </Grid>\n        </StyledPaper>\n        <Box mt={5}>\n          <Copyright/>\n        </Box>\n      </Container>\n    </LoginBackgroundWrapper>\n  );\n}\n","import React from \"react\";\nimport {Link as MuiLink} from \"@material-ui/core\";\nimport {useHistory} from \"react-router-dom\";\n\nexport default function Link({children, href}) {\n  const history = useHistory();\n  return (\n    <MuiLink\n      href={href}\n      color=\"inherit\"\n      underline=\"none\"\n      sx={{\n        ':hover': {\n          textDecoration: 'underline'\n        }\n      }}\n      onClick={e => {\n        e.preventDefault();\n        history.push(href)\n      }}>\n      {children}\n    </MuiLink>\n  )\n}\n","import {postJson, getJson} from \"./helpers\"\n\nexport const purchaseMaterial = async (email, materialId) => {\n    const url = '/api/material/purchase';\n    const data = {\n        userEmail: email,\n        materialId: materialId,\n      }\n    return await postJson(url, data)\n}\n\nexport const rateMaterial = async (email, materialId, rate) => {\n    const url = '/api/material/rate';\n    const data = {\n      userEmail: email,\n      materialId: materialId,\n      rate: rate\n      }\n    return await postJson(url, data)\n}\n\nexport const tipMaterial = async (email, materialId, tip) => {\n    const url = '/api/material/tip';\n    const data = {\n      userEmail: email,\n      materialId: materialId,\n      tip: tip\n      }\n    return await postJson(url, data)\n}\n\nexport const getMaterials = async (courseName, instituteName, email) => {\n    const url = '/api/materials?course=' + courseName + '&institution=' + instituteName + '&buyerEmail=' + email;\n    return await getJson(url)\n}\n\n\n","import React, {useContext} from 'react';\nimport Ratings from 'react-ratings-declarative';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport {UserContext} from \"../../contexts\";\nimport {rateMaterial} from \"../../api/material\"\n\nexport default function RateMaterial(props) {\n  const userContext = useContext(UserContext);\n  const {product, handleClose, materials, setMaterials} = props;\n  const [rating, setRating] = React.useState(1);\n\n  const submitRateHandle = async () => {\n    const res = await rateMaterial(userContext.email, product.id, rating)\n    if (!res.error){\n      var newMaterials = []\n      materials.forEach(element => {\n        if (product.id === element.id) {\n            element.status = 2\n        }\n        newMaterials.push(element);\n      });\n      setMaterials(newMaterials);\n    }else{\n      alert(res.error)\n    }\n  }\n\n  return (\n      <div>\n          <Grid>\n        <span>Rate this material!</span>\n          </Grid>\n          <Grid>\n        <Ratings\n        rating={rating}\n        widgetRatedColors=\"orange\"\n        changeRating={(newRating) => setRating(newRating)}\n        >\n            <Ratings.Widget onClick={() => setRating(1)}/>\n            <Ratings.Widget />\n            <Ratings.Widget/>\n            <Ratings.Widget />\n            <Ratings.Widget />\n        </Ratings>  \n        <span>{rating} Stars</span>\n        </Grid>\n        <Grid>\n            <Button variant=\"outlined\" color=\"primary\" onClick={handleClose}>\n                skip\n            </Button>\n\n            <Button variant=\"contained\" color=\"primary\" onClick={submitRateHandle}>\n                Submit\n            </Button>\n        </Grid>\n    </div>\n  );\n}","import React, {useState, useContext} from 'react';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport {UserContext} from \"../../contexts\";\nimport {tipMaterial} from \"../../api/material\"\n\nexport default function RewardOfferer(props) {\n  const userContext = useContext(UserContext);\n  const {handleClose, product} = props;\n  const [rewardAmount, setRewardAmount] = useState(0)\n\n  async function submitTipHandler(){\n    const res = await tipMaterial(userContext.email, product.id, rewardAmount)\n    if (!res.error){\n        alert('You tip offerer ' + rewardAmount + ' CFX')\n        handleClose()\n    }else{\n        alert(res.error)\n    }\n  }\n\n  return (\n      <div>\n          <Grid>Reward Offerer</Grid>\n          <Grid>\n            <input\n            type='number'\n            placeholder={rewardAmount}\n            onChange={(e) => {\n                if (e.target.value < 0){\n                    alert('You should type a positive number')\n                }else{\n                    setRewardAmount(e.target.value)\n                }\n            }}\n            />\n          </Grid>\n          <Grid>\n            <Button variant=\"outlined\" color=\"primary\" onClick={handleClose}>\n                Cancel\n            </Button>\n\n            <Button variant=\"contained\" color=\"primary\" onClick={submitTipHandler}>\n                Submit\n            </Button>\n        </Grid>\n    </div>\n  );\n}","import React, {useContext} from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Button from '@material-ui/core/Button';\nimport RateMaterial from './RateMaterial'\nimport RewardOfferer from './RewardOfferer'\nimport { styled } from '@material-ui/core'\nimport {UserContext} from \"../../contexts\";\nimport {purchaseMaterial} from \"../../api/material\"\n\nconst StyledListItem = styled(ListItem)(() => ({\n    padding: 20, \n  }));\n\nexport default function Checkout(props) {\n  const userContext = useContext(UserContext);\n  const {product, handleClose, materials, setMaterials} = props;\n\n  const submitCheckoutHandle = async (e) => {\n    const res = await purchaseMaterial(userContext.email, product.id)\n    // const url = '/api/material/purchase';\n    // const data = {\n    //     userEmail: userContext.email,\n    //     materialId: product.id,\n    //     price: product.price,\n    //   }\n    // const res = await postJson(url, data)\n    // TODO: Download the file\n    if (!res.error){\n      var newMaterials = []\n      materials.forEach(element => {\n        if (product.id === element.id) {\n            element.status = 1\n        }\n        newMaterials.push(element);\n      });\n      setMaterials(newMaterials);\n    }else{\n      alert(res.error)\n    }\n}\n\n  return (\n    <React.Fragment>\n    {product.status === 0 &&\n        <React.Fragment>\n      <Typography variant=\"h6\" gutterBottom>\n        Order summary\n      </Typography>\n      <List >\n        <StyledListItem key={product.id}>\n        <ListItemText primary={product.school + ' ' + product.course + ' ' + product.year + ' ' + product.semester + ' ' + product.prof[0]} \n                    secondary={product.type} />\n        <Typography variant=\"body1\">{product.price}</Typography>\n        </StyledListItem>\n        <StyledListItem>\n          <ListItemText primary=\"Total\" />\n          <Typography variant=\"subtitle1\" style={{fontWeight: 700}}>\n            <span>{product.price}</span>\n          </Typography>\n        </StyledListItem>\n        <StyledListItem>\n                <Button\n                    variant=\"outlined\"\n                    color=\"primary\"\n                    onClick={handleClose}>\n                    Close          \n                </Button>\n            <Typography  style={{fontWeight: 700}}>\n                <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    onClick={submitCheckoutHandle}>\n                    Buy            \n                </Button>\n            </Typography>\n      </StyledListItem>\n      </List>\n    </React.Fragment>\n    }\n\n    {product.status === 1 && \n    <RateMaterial \n        product={product} handleClose={handleClose} \n        materials={materials} setMaterials={setMaterials}\n    />\n    }\n\n    {product.status === 2 && \n    <RewardOfferer \n        product={product} handleClose={handleClose}\n        materials={materials} setMaterials={setMaterials}\n    />\n    }\n    </React.Fragment>\n  );\n}","import React, {useState, useEffect, useContext} from 'react';\nimport Button from '@material-ui/core/Button';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport {styled} from '@material-ui/core'\nimport Container from '@material-ui/core/Container';\nimport Popover from '@material-ui/core/Popover'\nimport Checkout from './Checkout.js'\nimport RateMaterial from './RateMaterial.js'\nimport RewardOfferer from './RewardOfferer'\nimport {UserContext} from \"../../contexts\";\nimport {getJson} from \"../../api/helpers\"\nimport Link from \"../../components/Link\";\n\nconst StyledCard = styled(Card)(() => ({\n  height: '100%',\n  display: 'flex',\n  flexDirection: 'column',\n}));\n\n\nexport default function CourseMaterial({courseName, instituteName}) {\n  const userContext = useContext(UserContext);\n\n  const [courseInfo, setCourseInfo] = useState({\n    professors: []\n  })\n  const [anchorPosition, setAnchorPosition] = React.useState(null);\n  const [currId, setCurrId] = React.useState(null);\n  const [materials, setMaterials] = useState([])\n\n\n  async function getData() {\n    const url = '/api/materials?course=' + courseName + '&institution=' + instituteName + '&buyerEmail=' + userContext.email;\n    const tmp = await getJson(url)\n    if (tmp.error) {\n      alert(tmp.error)\n    } else {\n      setCourseInfo(tmp.course)\n      setMaterials(tmp.courseMaterial);\n    }\n    return tmp;\n  }\n\n  useEffect(async () => {\n    async function callGetData() {\n      const tmp = await getData()\n    }\n\n    callGetData()\n  }, [])\n\n\n  const handleClick = (event) => {\n    setCurrId(event.target.value)\n    setAnchorPosition({top: event.clientY, left: event.clientX});\n  };\n\n  const handleClose = () => {\n    setAnchorPosition(null);\n  };\n\n  const isOpen = (id) => {\n    return id === currId && Boolean(anchorPosition)\n  };\n\n  const [buttonVariant1, setButtonVariant1] = useState(\"contained\")\n  const [buttonVariant2, setButtonVariant2] = useState(\"outlined\")\n  const [buttonVariant3, setButtonVariant3] = useState(\"outlined\")\n  const [buttonVariant4, setButtonVariant4] = useState(\"outlined\")\n  const [buttonVariant5, setButtonVariant5] = useState(\"outlined\")\n\n  async function buttonHandler1() {\n    setButtonVariant1(\"contained\")\n    setButtonVariant2(\"outlined\")\n    setButtonVariant3(\"outlined\")\n    setButtonVariant4(\"outlined\")\n    setButtonVariant5(\"outlined\")\n    const data = await getData()\n    setMaterials(data.courseMaterial)\n  }\n\n  async function buttonHandler2() {\n    setButtonVariant1(\"outlined\")\n    setButtonVariant2(\"contained\")\n    setButtonVariant3(\"outlined\")\n    setButtonVariant4(\"outlined\")\n    setButtonVariant5(\"outlined\")\n    const data = await getData()\n    setMaterials(data.courseMaterial.filter((course) => {\n      return course.type === \"Student Course Note\"\n    }))\n  }\n\n  async function buttonHandler3() {\n    setButtonVariant1(\"outlined\")\n    setButtonVariant2(\"outlined\")\n    setButtonVariant3(\"contained\")\n    setButtonVariant4(\"outlined\")\n    setButtonVariant5(\"outlined\")\n    const data = await getData()\n    setMaterials(data.courseMaterial.filter((course) => {\n      return course.type === \"Professor Course Note\"\n    }))\n  }\n\n  async function buttonHandler4(e) {\n    setButtonVariant1(\"outlined\")\n    setButtonVariant2(\"outlined\")\n    setButtonVariant3(\"outlined\")\n    setButtonVariant4(\"contained\")\n    setButtonVariant5(\"outlined\")\n    const data = await getData()\n    setMaterials(data.courseMaterial.filter((course) => {\n      return course.type === \"Past Exam\"\n    }))\n  }\n\n  async function buttonHandler5(e) {\n    setButtonVariant1(\"outlined\")\n    setButtonVariant2(\"outlined\")\n    setButtonVariant3(\"outlined\")\n    setButtonVariant4(\"outlined\")\n    setButtonVariant5(\"contained\")\n    const data = await getData()\n    setMaterials(data.courseMaterial.filter((course) => {\n      return course.type === \"Final Exam\"\n    }))\n  }\n\n\n  return (\n    <React.Fragment>\n      <div style={{marginTop: \"5px\"}}>\n        <Grid container spacing={2}>\n          <Grid item>\n            <Button variant={buttonVariant1} color=\"primary\" onClick={buttonHandler1}>\n              All\n            </Button>\n          </Grid>\n          <Grid item>\n            <Button variant={buttonVariant2} color=\"primary\" onClick={buttonHandler2}>\n              Student Course Note\n            </Button>\n          </Grid>\n          <Grid item>\n            <Button variant={buttonVariant3} color=\"primary\" onClick={buttonHandler3}>\n              Professor Course Note\n            </Button>\n          </Grid>\n          <Grid item>\n            <Button variant={buttonVariant4} color=\"primary\" onClick={buttonHandler4}>\n              Past Exam\n            </Button>\n          </Grid>\n          <Grid item>\n            <Button variant={buttonVariant5} color=\"primary\" onClick={buttonHandler5}>\n              Final Exam\n            </Button>\n          </Grid>\n        </Grid>\n      </div>\n      <Grid container spacing={4} sx={{pt: 4}}>\n        {materials.map((m) => (\n          <Grid item key={m.id} xs={12} sm={6} md={4}>\n            <StyledCard>\n              <CardMedia\n                style={{paddingTop: '56.25%'}}\n                image={m.cover_page}\n                title=\"Image title\"\n              />\n              <CardContent style={{flexGrow: 1}}>\n                <Typography gutterBottom variant=\"h5\" component=\"h2\">\n                  semester: {m.year} - {m.semester}\n                </Typography>\n                {/* <Typography>\n                      id: {m.id}\n                    </Typography> */}\n                <Typography>\n                  price: {m.price}\n                </Typography>\n                <Typography>\n                  type: {m.type}\n                </Typography>\n                <Typography>\n                  offer_by: {m.offer_by}\n                </Typography>\n                <Typography>\n                  prof: {m.prof.map((p) => <a key={p} href={'profs/' + p}>{p + ' '}</a>)}\n                </Typography>\n                <Typography>\n                  like: {m.like}\n                </Typography>\n                <Typography>\n                  unlike: {m.unlike}\n                </Typography>\n              </CardContent>\n              <CardActions>\n\n\n                {m.status === 0 &&\n                <Button value={m.id} variant=\"contained\" color=\"primary\" onClick={handleClick}>\n                  Buy\n                </Button>\n                }\n\n                {m.status === 1 &&\n                <Button value={m.id} variant=\"outlined\" color=\"primary\" onClick={handleClick}>\n                  Rate\n                </Button>\n                }\n\n                {m.status === 2 &&\n                <Button value={m.id} variant=\"outlined\" color=\"secondary\" onClick={handleClick}>\n                  Reward\n                </Button>\n                }\n                <Popover\n                  open={isOpen(m.id)}\n                  anchorReference=\"anchorPosition\"\n                  anchorPosition={anchorPosition}\n                  onClose={handleClose}\n                  anchorOrigin={{\n                    vertical: 'bottom',\n                    horizontal: 'center',\n                  }}\n                  transformOrigin={{\n                    vertical: 'top',\n                    horizontal: 'center',\n                  }}\n                >\n                  {m.status === 0 &&\n                  <Checkout\n                    product={m} handleClose={handleClose}\n                    materials={materials} setMaterials={setMaterials}\n                  />\n                  }\n                  {m.status === 1 &&\n                  <RateMaterial\n                    product={m} handleClose={handleClose}\n                    materials={materials} setMaterials={setMaterials}\n                  />\n                  }\n                  {m.status === 2 &&\n                  <RewardOfferer\n                    product={m} handleClose={handleClose}\n                  />\n                  }\n                </Popover>\n              </CardActions>\n            </StyledCard>\n          </Grid>\n        ))}\n      </Grid>\n    </React.Fragment>\n  );\n}","import React, {useEffect, useState} from 'react';\nimport {\n    CssBaseline,\n    Typography,\n    Box,\n    FormControl,\n    Select,\n    Input,\n    MenuItem,\n    InputLabel,\n    Autocomplete, TextField, Rating, FormControlLabel, Checkbox, Tooltip\n} from \"@material-ui/core\";\n\nimport CardMedia from \"@material-ui/core/CardMedia\";\nimport DatePicker from '@material-ui/lab/DatePicker';\nimport {LocalizationProvider} from \"@material-ui/lab\";\nimport AdapterDateFns from '@material-ui/lab/AdapterDateFns';\nimport { useParams } from \"react-router-dom\";\nimport {getJson, postJson} from \"../../api/helpers\";\nimport InfoIcon from '@mui/icons-material/Info';\n\nconst cfxScanAddr = \"https://testnet.confluxscan.io/transaction/\";\n\nconst semesterOptions = [\n    'Fall',\n    'Summer',\n    'Winter',\n];\n\nconst isSemesterInclude = (semesters, semester) => {\n    return semesters.includes(semester)\n}\n\nconst isProfInclude = (profs, prof) => {\n    return profs.includes(prof)\n}\n\nconst ratingFormStyle = {\n    display: 'flex',\n    flexDirection: 'column',\n    // justifyContent: 'space-between',\n}\n\nexport default function CourseRatings({courseName, insituteName}) {\n\n    const [data, setData] = useState([]);\n    // setData();\n    async function getData(){\n        console.log(instituteName);\n        const url = '/api/rating?institute=' + instituteName + '&course=' + courseCode;\n        const tmp = await getJson(url)\n        if (tmp.error){\n            alert(tmp.error)\n        } else {\n            setData(tmp.data);\n            setProf(Array.from(new Set(tmp.data.map((obj) => obj.prof))))\n            console.log(tmp);\n        }\n        return tmp;\n    }\n\n    useEffect(async () => {\n        async function callGetData(){\n            const tmp = await getData()\n        }\n        await callGetData()\n    }, [])\n    const params = useParams();\n    const instituteName = params.institute;\n    const courseCode = params.course;\n    const [semesters, setSemester] = useState(semesterOptions);\n    const handleChangeSemesterMultiple = (event) => {\n        setSemester(event.target.value);\n    }\n\n    const profOptions = Array.from(new Set(data.map((obj) => obj.prof)));\n    const [profs, setProf] = useState(profOptions);\n    const handleChangeProfMultiple = (event) => {\n        setProf(event.target.value);\n    }\n\n    const [newProf, setNewProf] = useState(\"\");\n    const [newScore, setNewScore] = useState(0);\n    const [newComment, setNewComment] = useState(\"\");\n    const [newCourse, setNewCourse] = useState(\"\"); // TODO: get this value props\n    const [newYear, setNewYear] = useState(new Date());\n    const [newSemester, setNewSemester] = useState(semesterOptions[0]);\n    const [onChain, setOnChain] = useState(false);\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        const url = '/api/rating';\n        const newRating = { institute: instituteName,\n            course: courseCode,\n            prof: newProf,\n            score: newScore,\n            comment: newComment,\n            year: newYear.getFullYear(),\n            semester: newSemester,\n            onChain: onChain\n        };\n        // console.log(newRating);\n        let res = await postJson(url, newRating);\n        if (!res.error){\n            await getData();\n        }else{\n            alert(res.error);\n        }\n    }\n\n    const handleNewProfChange = (event, value) => {\n        setNewProf(value);\n    }\n\n    const handleNewSemesterChange = (event, value) => {\n        setNewSemester(value);\n    }\n\n    const handleOnChain = (event, value) => {\n        setOnChain(value);\n    }\n\n    return (\n        <React.Fragment>\n            <Box pl={3}>\n                <FormControl width='100px' style={{margin: 5}} variant=\"outlined\">\n                    <InputLabel id=\"semester-selection-label\">Semester</InputLabel>\n                    <Select\n                        labelId=\"semester-selection-label\"\n                        id=\"semester-selection\"\n                        multiple\n                        value={semesters}\n                        onChange={handleChangeSemesterMultiple}\n                        input={<Input />}\n                        style={{minWidth: 120}}\n                    >\n                        {semesterOptions.map((value) => (\n                            <MenuItem key={value} value={value}>\n                                {value}\n                            </MenuItem>\n                        ))}\n                    </Select>\n                </FormControl>\n                <FormControl width='100px' style={{margin: 5}}>\n                    <InputLabel id=\"prof-selection-label\">Prof</InputLabel>\n                    <Select\n                        labelId=\"prof-selection-label\"\n                        id=\"prof-selection\"\n                        multiple\n                        value={profs}\n                        onChange={handleChangeProfMultiple}\n                        input={<Input />}\n                        style={{minWidth: 120}}\n                    >\n                        {profOptions.map((value) => (\n                            <MenuItem key={value} value={value}>\n                                {value}\n                            </MenuItem>\n                        ))}\n                    </Select>\n                </FormControl>\n            </Box>\n            <Box width=\"90%\">\n                {\n                    data.map(rating => (\n                        isSemesterInclude(semesters, rating.semester) &&\n                        isProfInclude(profs, rating.prof) &&\n                        <Box border={1} width={1} m={3} display=\"flex\" key={rating._id}>\n                            <Box style={{width:'20%'}} borderRight={1}>\n                                <Box borderBottom={1}  display=\"flex\">\n                                    <Typography fontWeight=\"fontWeightBold\" pr={1}>User:</Typography>\n                                    <Typography>{rating.user}</Typography>\n                                </Box>\n                                <CardMedia\n                                    style={{\n                                        height: 0,\n                                        paddingTop: '100%', // 16:9,\n                                        marginTop:'30'\n                                    }}\n                                    image='https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_640.png'\n                                    title=\"user image\"\n                                />\n                            </Box>\n                            <Box style={{width:'80%'}}>\n                                <Box borderBottom={1} display=\"flex\" justifyContent=\"flex-start\">\n                                    <Typography fontWeight=\"fontWeightBold\" pl={1} pr={1}>Prof:</Typography>\n                                    <Typography>{rating.prof}</Typography>\n                                    <Typography fontWeight=\"fontWeightBold\" pl={1} pr={1}>Score:</Typography>\n                                    <Typography>{rating.score}/5</Typography>\n                                    <Typography fontWeight=\"fontWeightBold\" pl={1} pr={1}>Year:</Typography>\n                                    <Typography>{rating.year}</Typography>\n                                    <Typography fontWeight=\"fontWeightBold\" pl={1} pr={1}>Semester:</Typography>\n                                    <Typography>{rating.semester}</Typography>\n                                    {rating.chainTransactionID &&\n                                        <Tooltip title={<a style={{color: 'white'}} target=\"_blank\" href={cfxScanAddr + rating.chainTransactionID}>Visit comment content on chain</a>} placement=\"top-start\">\n                                            <InfoIcon />\n                                        </Tooltip>}\n                                </Box>\n                                <Box pl={1} display=\"flex\" justifyContent=\"flex-start\">\n                                    <Box style={{width:'80%'}}>\n                                        <Typography fontWeight=\"fontWeightBold\">Comment:</Typography>\n                                        <Typography style={{display: 'inline-block'}}>{rating.comment}</Typography>\n                                    </Box>\n                                    <Box style={{width:'30%'}} display='flex' flexGrow={1} borderLeft={1}>\n                                        <Box>\n                                            <CardMedia\n                                                style={{\n                                                    height: \"100px\",\n                                                    width: \"100px\"\n                                                }}\n                                                image='https://www.kindpng.com/picc/m/136-1366147_thumb-up-icon-color-thumbs-up-png-transparent.png'\n                                                title=\"Like\"\n                                                // TODO: link to like or dislike\n                                            />\n                                            <Typography align='center'>{rating.like}</Typography>\n                                        </Box>\n                                        <Box pl={5}>\n                                            <CardMedia\n                                                style={{\n                                                    height: \"100px\",\n                                                    width: \"100px\",\n                                                }}\n                                                image='https://www.pngitem.com/pimgs/m/366-3667940_thumbs-down-icon-png-transparent-png.png'\n                                                title=\"Unlike\"\n                                                // TODO: link to like or dislike\n                                            />\n                                            <Typography align='center'>{rating.unlike}</Typography>\n                                        </Box>\n                                    </Box>\n                                </Box>\n                            </Box>\n                        </Box>\n                    ))\n                }\n            </Box>\n            <Box width=\"90%\" p={3} m={3} border={1} >\n                <Typography variant='h6'>Add a New Rating</Typography>\n                <form onSubmit={handleSubmit} style={ratingFormStyle}>\n                    <Box pb={1}>\n                        <Rating\n                            name=\"simple-controlled\"\n                            value={newScore}\n                            onChange={(event, newValue) => {\n                                setNewScore(newValue);\n                            }}\n                            stype={{margin: '10px'}}\n                        />\n                    </Box>\n                    <LocalizationProvider dateAdapter={AdapterDateFns} >\n                        <DatePicker\n                            views={[\"year\"]}\n                            label=\"Year\"\n                            value={newYear}\n                            onChange={(newValue) => {\n                                setNewYear(newValue);\n                            }}\n                            renderInput={(params) => <TextField {...params} helperText={null}/>}\n                        />\n                    </LocalizationProvider>\n                    <Box style={{width:'100%'}}>\n                        <Autocomplete\n                            freeSolo\n                            options={profOptions}\n                            disableClearable\n                            onInputChange={handleNewProfChange}\n                            renderInput={(params) => (\n                                <TextField {...params} label=\"Prof\" margin=\"normal\" variant=\"outlined\" />\n                            )}\n                        />\n                    </Box>\n                    <Box style={{width:'100%'}}>\n                        <Autocomplete\n                            renderInput={(params) => <TextField {...params} label=\"Semester\" variant=\"outlined\" />}\n                            options={semesterOptions}\n                            onInputChange={handleNewSemesterChange}\n                        />\n                    </Box>\n                    <Box style={{display:'flex', flexDirection: 'column',}} pb={1}>\n                        <label>Comment</label>\n                        <textarea\n                            required\n                            value={newComment}\n                            rows='4' cols='50'\n                            onChange={(e) => setNewComment(e.target.value)}>\n                    </textarea>\n                    </Box>\n                    <Box>\n                        <button style={{width:'100px'}}>Add Rating</button>\n                        <FormControlLabel\n                            control={\n                                <Checkbox\n                                    checked={onChain}\n                                    onChange={handleOnChain}\n                                    name=\"checkedChain\"\n                                    color=\"primary\"\n                                />\n                            }\n                            label=\"Store on CFX chain?\"\n                        />\n                    </Box>\n\n                </form>\n            </Box>\n        </React.Fragment>\n    )\n}\n\n","import {getJson} from \"./helpers\";\n\nexport async function getCourseData(courseName, instituteName) {\n  const url = '/api/materials?course=' + courseName + '&institution=' + instituteName + '&buyerEmail=';\n  return (await getJson(url)).course;\n}\n","import React, {useEffect, useState} from 'react';\nimport {useParams, Switch, Route, useHistory, useLocation} from 'react-router-dom';\nimport {Container, Box, Tab, Tabs, Typography} from \"@material-ui/core\";\nimport {styled} from \"@material-ui/core/styles\";\nimport Link from \"../../components/Link\";\nimport CourseMaterial from \"../Materials/CourseMaterial\";\nimport CourseRatings from \"../Rating/CourseRatings\";\nimport {getCourseData} from \"../../api/course\";\n\nconst StyledTab = styled(Tab)(({theme}) => ({\n  textTransform: 'none',\n  fontSize: 16,\n}));\n\nexport default function Course() {\n  const history = useHistory();\n  const location = useLocation();\n  const {course, institute} = useParams();\n  const [tabValue, setTabValue] = useState(0);\n  const [courseData, setCourseData] = useState();\n\n  useEffect(() => {\n    // Redirect to .../rating if url ended with course id\n    if (location.pathname.toLowerCase().endsWith(course.toLowerCase()))\n      history.push(`/course/${institute}/${course}/rating`);\n  });\n\n  useEffect(() => {\n    (async function(){\n      setCourseData(await getCourseData(course, institute));\n    })();\n  }, [course, institute]);\n\n  const handleTabChange = (e, newValue) => {\n    setTabValue(newValue);\n    if (newValue === 0)\n      history.push(`/course/${institute}/${course}/rating`);\n    else\n      history.push(`/course/${institute}/${course}/material`);\n  }\n\n  return (\n    <Container>\n      <Typography variant={\"h3\"} sx={{pt: 1}}>\n        {course}\n      </Typography>\n\n      {courseData?.professors?.length && <Typography variant={\"h5\"} color={\"textSecondary\"} sx={{pt: 1, pb: 1}}>\n        professors: {courseData.professors.map((p, idx) =>\n        <Link key={p} href={'/prof/' + p}>{p + (idx !== courseData.professors.length - 1 ? ', ' : '')}</Link>)}\n      </Typography>}\n\n      {courseData?.description && <Typography variant={\"h5\"} color={\"textSecondary\"} sx={{pt: 1, pb: 1}}>\n        {courseData.description}\n      </Typography>}\n\n      <Box sx={{borderBottom: 1, borderColor: 'divider', mb: 1}}>\n        <Tabs value={tabValue} onChange={handleTabChange}>\n          <StyledTab label=\"Course Ratings\"/>\n          <StyledTab label=\"Course Materials\"/>\n        </Tabs>\n      </Box>\n\n      <Switch>\n        <Route path={'/course/:institute/:course/material'} exact>\n          <CourseMaterial courseName={course} instituteName={institute}/>\n        </Route>\n\n        <Route path={'/course/:institute/:course/rating'} exact>\n          <CourseRatings courseName={course} instituteName={institute}/>\n        </Route>\n      </Switch>\n\n    </Container>\n  );\n}","import {\n  Avatar,\n  Box,\n  Card,\n  CardContent,\n  Divider,\n  Typography\n} from '@material-ui/core';\nimport SubmitButton from '../../components/SubmitButton';\n\n\nconst SchoolCard = ({ school, ...rest }) => (\n  <Card\n    sx={{\n      display: 'flex',\n      flexDirection: 'column',\n      height: '100%'\n    }}\n    {...rest}\n  >\n    <CardContent>\n      <Box\n        sx={{\n          display: 'flex',\n          justifyContent: 'center',\n          pb: 3\n        }}\n      >\n        <Avatar\n          alt=\"school\"\n          src={process.env.PUBLIC_URL + '/logo1.png'}\n          variant=\"square\"\n        />\n      </Box>\n      <Typography\n        align=\"center\"\n        color=\"textPrimary\"\n        gutterBottom\n        variant=\"h4\"\n      >\n        {school.name}\n      </Typography>\n    </CardContent>\n    <Box sx={{ flexGrow: 1 }} />\n    <Divider />\n    <Box sx={{ p: 2,\n              alignItems: 'center',\n      display: 'flex'}}>\n      <SubmitButton> View Material</SubmitButton>\n    </Box>\n  </Card>\n);\n\nexport default SchoolCard;\n","import React from 'react';\nimport {Container} from \"@material-ui/core\";\nimport {\n  Box,\n  Grid\n} from '@material-ui/core';\nimport SchoolCard from './SchoolCard';\nconst schools = [{\n  \"web_pages\": [\n    \"http://www.marywood.edu\"\n  ],\n  \"name\": \"Marywood University\",\n  \"alpha_two_code\": \"US\",\n  \"state-province\": null,\n  \"domains\": [\n    \"marywood.edu\"\n  ],\n  \"country\": \"United States\"\n},\n  {\n    \"web_pages\": [\n      \"https://www.cstj.qc.ca\",\n      \"https://ccmt.cstj.qc.ca\",\n      \"https://ccml.cstj.qc.ca\"\n    ],\n    \"name\": \"Cgep de Saint-Jrme\",\n    \"alpha_two_code\": \"CA\",\n    \"state-province\": null,\n    \"domains\": [\n      \"cstj.qc.ca\"\n    ],\n    \"country\": \"Canada\"\n  }];\nexport default function InstitutionPage() {\n  return (\n    <Box\n      sx={{\n        backgroundColor: 'background.default',\n        minHeight: '100%',\n        py: 3\n      }}\n    >\n      <Container maxWidth={false}>\n        <Box sx={{ pt: 3 }}>\n          <Grid\n            container\n            spacing={3}\n          >\n            {schools.map((school) => (\n              <Grid\n                item\n                key={school.id}\n                lg={4}\n                md={6}\n                xs={12}\n              >\n                <SchoolCard school={school} />\n              </Grid>\n            ))}\n          </Grid>\n        </Box>\n        <Box\n          sx={{\n            display: 'flex',\n            justifyContent: 'center',\n            pt: 3\n          }}\n        >\n        </Box>\n      </Container>\n    </Box>);\n}\n","import React, {useContext, useState} from \"react\";\nimport {useHistory} from 'react-router-dom';\nimport {Container, Divider, Paper, Typography, Box, Button} from \"@material-ui/core\";\nimport {UserContext} from \"../../contexts\";\nimport {styled} from \"@material-ui/core/styles\";\nimport {useDropzone} from 'react-dropzone';\nimport {USER_TYPE} from \"../../constants\";\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\n\nconst StyledPaper = styled(Paper)(({theme}) => ({\n  padding: 40,\n  [theme.breakpoints.down('sm')]: {\n    margin: 0,\n    padding: 14,\n    marginTop: 10,\n  }\n}));\n\n\nconst StyledContainer = styled(Container)(({theme}) => ({\n  // flex: 1;\n  flexed: true,\n  flexDirection: 'column',\n  alignItems: 'center',\n  padding: '20px',\n  borderWidth: '2px',\n  borderRadius: '2px',\n  borderStyle: 'dashed',\n  backgroundColor: '#fafafa',\n  color: '#bdbdbd',\n  outline: 'none',\n}));\n\n\nexport default function UploadPage(props) {\n  const history = useHistory();\n  const userContext = useContext(UserContext);\n\n  if (userContext.type == USER_TYPE.GUEST) {\n    history.push('/login');\n  }\n\n  const [waiting, setWaiting] = useState(false);\n\n  const submit = () => {\n    setWaiting(true);\n    // TODO\n    console.log('aaaaaa', files)\n\n  };\n\n\n  const {acceptedFiles, getRootProps, getInputProps} = useDropzone();\n\n  const files = acceptedFiles.map(file => (\n    <li key={file.path}>\n      {file.path} - {file.size} bytes\n    </li>\n  ));\n\n\n  return (\n    <Container>\n\n      <Container maxWidth=\"lg\">\n        <Box sx={{paddingTop: '40px', display: 'flex'}}/>\n        <StyledPaper elevation={5}>\n          <Typography variant=\"h4\" sx={{\n            color: 'rgb(0,32,81)',\n            fontWeight: 400,\n            marginBottom: 3,\n            display: 'flex'\n          }}>\n            Upload Course Materials\n          </Typography>\n\n          <section className=\"container\">\n            <StyledContainer {...getRootProps({className: 'dropzone'})}>\n              <input {...getInputProps()} />\n              <p>Drag some files here, or click to select files</p>\n            </StyledContainer>\n            <aside>\n              <h4>Files</h4>\n              <ul>{files}</ul>\n            </aside>\n          </section>\n\n\n          <Divider/>\n          <Button\n            startIcon={<CloudUploadIcon fontSize=\"large\"/>}\n            color=\"info\"\n            variant=\"contained\"\n            sx={{\n              // justifyContent: \"flex-end\",\n              // alignItems: \"flex-end\",\n              // marginRight: 2,\n              marginTop: 3,\n            }} onClick={submit} loading={waiting}>\n            Upload\n          </Button>\n\n        </StyledPaper>\n      </Container>\n    </Container>\n  )\n}","import Home from '../../pages/Home';\nimport Login from '../../pages/Login';\nimport Register from '../../pages/Register';\nimport Course from '../../pages/Course';\nimport InstitutionPage from \"../../pages/Institutes/Institutions\";\nimport ProfPage from \"../../pages/Prof\";\nimport Upload from \"../../pages/Upload/Upload\";\n\nexport const config = [\n  {path: '/', exact: true, Component: Home},\n  {path: '/login', exact: true, Component: Login},\n  {path: '/register', exact: true, Component: Register},\n  {path: '/course/:institute/:course', exact: false, Component: Course},\n  {path: '/institutes', exact: true, Component: InstitutionPage},\n  {path: '/prof/:name', exact: true, Component: ProfPage},\n  {path: '/upload', exact: true, Component: Upload},\n]\n","import React, {useState} from 'react';\nimport {useParams} from \"react-router-dom\";\nimport {Container, Typography} from \"@material-ui/core\";\n\nexport default function Prof() {\n  const {name} = useParams();\n  return <Container>\n    <Typography variant=\"h4\">\n      Professor: {name}\n    </Typography>\n  </Container>\n}","import React from \"react\";\nimport {config} from \"./config\";\nimport {Route, Switch} from \"react-router-dom\";\n\nexport default function HomeRoute() {\n  return (\n    <Switch>\n      {config.map(({path, Component, ...props}, idx) =>\n        <Route\n          key={idx}\n          path={path}\n          {...props}\n        >\n          <Component {...props} />\n        </Route>\n      )}\n    </Switch>\n  )\n}","import React from 'react';\nimport Typography from \"@material-ui/core/Typography\";\n\nexport default function ProfilePage() {\n  return <Typography variant={\"h1\"} fontSize={40} sx={{pt: 5}}>\n    Profile Page Placeholder\n  </Typography>\n}\n","import {postJson} from \"./helpers\"\n\nexport const deposit = async (hash, amount) => {\n    const url = '/api/transaction/deposit';\n    const data = {\n        hash: hash,\n        amount: amount\n      }\n    return await postJson(url, data)\n}\n\nexport const withdraw = async (amount, address) => {\n    const url = '/api/transaction/withdraw';\n    const data = {\n        amount: amount,\n        address: address,\n      }\n    return await postJson(url, data)\n}","import Profile from '../../pages/Dashboard/Profile';\nimport MyMaterials from '../../pages/Dashboard/MyMaterials';\nimport MyReviews from '../../pages/Dashboard/MyReviews';\nimport Purchase from '../../pages/Dashboard/Purchase';\nimport RateCourse from '../../pages/Dashboard/RateCourse';\nimport UploadCourseMaterial from '../../pages/Dashboard/UploadCourseMaterial';\nimport Transaction from '../../pages/Dashboard/Transaction';\n\n// Find icons here https://next.material-ui.com/components/material-icons/#main-content\n// and https://materialdesignicons.com/ (takes 1 minute to load)\n// Or create custom icon https://next.material-ui.com/components/icons/\nimport {Person, Help, Store, Reviews, Storage, RateReview, UploadFile, AttachMoney} from \"@material-ui/icons\";\n// import PaymentIcon from '@mui/icons-material/Payment';\n\nexport const config = [\n  {path: '/dashboard', exact: true, Component: Profile},\n  {path: '/dashboard/profile', exact: true, Component: Profile},\n  {path: '/dashboard/my-materials', exact: true, Component: MyMaterials},\n  {path: '/dashboard/my-reviews', exact: true, Component: MyReviews},\n  {path: '/dashboard/purchase', exact: true, Component: Purchase},\n  {path: '/dashboard/rate-course', exact: true, Component: RateCourse},\n  {path: '/dashboard/upload', exact: true, Component: UploadCourseMaterial},\n  {path: '/dashboard/transaction', exact: true, Component: Transaction},\n]\n\nexport const navConfig = [\n  {label: 'My Profile', Icon: Person, path: '/dashboard/profile'},\n  {label: 'My Materials', Icon: Storage, path: '/dashboard/my-materials'},\n  {label: 'My Reviews', Icon: Reviews, path: '/dashboard/my-reviews'},\n  {label: 'Purchase', Icon: Store, path: '/dashboard/purchase'},\n  {label: 'Rate Course', Icon: RateReview, path: '/dashboard/rate-course'},\n  {label: 'Upload Materials', Icon: UploadFile, path: '/dashboard/upload'},\n  {label: 'Contact Us', Icon: Help, path: '/dashboard/help'},\n  {label: 'Transaction', Icon: AttachMoney, path: '/dashboard/Transaction'},\n]\n","import React from 'react';\nimport Typography from \"@material-ui/core/Typography\";\n\nexport default function MyMaterialsPage() {\n  return <Typography variant={\"h1\"} fontSize={40} sx={{pt: 5}}>\n    MyMaterials.js\n  </Typography>\n}\n","import React from 'react';\nimport Typography from \"@material-ui/core/Typography\";\n\nexport default function MyReviewsPage() {\n  return <Typography variant={\"h1\"} fontSize={40} sx={{pt: 5}}>\n    MyReviews.js\n  </Typography>\n}\n","import React from 'react';\nimport Typography from \"@material-ui/core/Typography\";\n\nexport default function PurchasePage() {\n  return <Typography variant={\"h1\"} fontSize={40} sx={{pt: 5}}>\n    Purchase.js\n  </Typography>\n}\n","import React from 'react';\nimport Typography from \"@material-ui/core/Typography\";\n\nexport default function RateCoursePage() {\n  return <Typography variant={\"h1\"} fontSize={40} sx={{pt: 5}}>\n    RateCourse.js\n  </Typography>\n}\n","import React from 'react';\nimport Typography from \"@material-ui/core/Typography\";\n\nexport default function UploadCourseMaterialPage() {\n  return <Typography variant={\"h1\"} fontSize={40} sx={{pt: 5}}>\n    UploadCourseMaterial.js\n  </Typography>\n}\n","import React, {useState} from 'react';\nimport {deposit, withdraw} from '../../api/transaction'\nimport SubmitButton from '../../components/SubmitButton'\nimport {Divider, Typography, TextField} from \"@material-ui/core\";\nimport {RECEIVER_ADDRESS} from '../../config'\n\nexport default function Transaction() {\n  const [depositAmount, setDepositAmount] = useState(0)\n  const [withdrawAmount, setWithdrawAmount] = useState(1)\n  const [accountAddress, setAccountAddress] = useState('')\n  const [depositWaiting, setDepositWaiting] = useState(false)\n  const [withdrawWaiting, setWithdrawWaiting] = useState(false)\n\n  async function enableDeposit(){\n    if (!depositAmount || depositAmount === 0){\n        alert('Deposit amount should be a positive number')\n        return\n    }\n    setDepositWaiting(true)\n    const acc = await window.conflux.enable() // connect to wallet\n    const tx = window.confluxJS.sendTransaction({\n      from: acc[0],\n      to: RECEIVER_ADDRESS, \n      value: 1e18 * depositAmount\n    })\n    await tx.executed()\n    console.log('executed')\n    await tx.confirmed()\n    console.log('confirmed')\n    const hash = await tx\n    const res = await deposit(hash, depositAmount)\n    if (res.error){\n        alert(res.error)\n    }else{\n        alert('Deposit successfully!')\n    }\n    setDepositWaiting(false)\n  }\n\n  async function enableWithdraw(){\n    if (!withdrawAmount || withdrawAmount === 0){\n        alert('Deposit amount should be a positive number')\n        return\n    }\n    setWithdrawWaiting(true)\n    const res = await withdraw(withdrawAmount, accountAddress)\n    console.log(res)\n    if (res.error){\n        alert(res.error)\n    }else{\n        alert('You are able to see the transaction process in transaction hash '+ res.hash)\n    }\n    setWithdrawWaiting(false)\n  }\n\n  return <Typography variant={\"h1\"} fontSize={40} sx={{pt: 5}}>\n    Transaction\n    <br></br>\n    <TextField\n            type=\"Number\"\n            label=\"Deposit Amount\"\n            value={depositAmount}\n            onChange={e => setDepositAmount(parseInt(e.target.value))}\n            sx={{minHeight: '80px'}}\n          />\n    <SubmitButton sx={{\n            marginTop: 3,\n            marginBottom: 0\n          }} onClick={enableDeposit} loading={depositWaiting}>\n            Deposit\n    </SubmitButton>\n    <Divider></Divider>\n    <br></br>\n    <TextField\n            label=\"Conflux Address\"\n            value={accountAddress}\n            fullWidth\n            onChange={e => setAccountAddress(e.target.value)}\n            helperText={'please make sure input is correct address!'}\n            sx={{minHeight: '80px', marginBottom: '15px'}}\n          />\n    <TextField\n            type=\"Number\"\n            label=\"Withdraw Amount\"\n            value={withdrawAmount}\n            onChange={e => setWithdrawAmount(parseInt(e.target.value))}\n            sx={{minHeight: '80px'}}\n    />\n    <SubmitButton sx={{\n            marginTop: 3,\n            marginBottom: 0\n          }} onClick={enableWithdraw} loading={withdrawWaiting}>\n            Withdraw\n    </SubmitButton>\n  </Typography>\n}\n","import React from 'react';\nimport {MenuList, MenuItem, ListItemIcon, ListItemText, Paper, Typography} from \"@material-ui/core\";\nimport {useHistory} from \"react-router-dom\";\n\nexport default function NavPanel({config}) {\n  const history = useHistory();\n  return (\n    <Paper variant=\"outlined\" sx={{marginTop: 4, marginRight: 2}}>\n      <MenuList dense>\n        <Typography sx={{fontWeight: 500, paddingLeft: 2, paddingBottom: 1, pt: 1}}>\n          Dashboard\n        </Typography>\n        {config.map(({label, Icon, path}) =>\n          <MenuItem\n            key={label}\n            onClick={() => history.push(path)}>\n            <ListItemIcon>\n              <Icon fontSize=\"small\"/>\n            </ListItemIcon>\n            <ListItemText>{label}</ListItemText>\n          </MenuItem>\n        )}\n      </MenuList>\n    </Paper>\n  )\n}\n","import React, {useContext} from \"react\";\nimport {config, navConfig} from \"./config\";\nimport {Route, Switch} from \"react-router-dom\";\nimport {Box, Container, Typography, Paper} from \"@material-ui/core\";\nimport NavPanel from \"../../pages/Dashboard/NavPanel\";\nimport {UserContext} from \"../../contexts\";\n\nexport default function DashboardRoute() {\n  const userContext = useContext(UserContext);\n  return (\n    <Container>\n      <Box sx={{paddingTop: 3}}/>\n      <Typography variant=\"h1\" fontSize={30}>\n        Hello {userContext.username} Icon here\n      </Typography>\n      <Box sx={{display: 'flex'}}>\n        <Box sx={{flexGrow: 1, maxWidth: '250px'}}>\n          <NavPanel config={navConfig}/>\n        </Box>\n        <Paper elevation={3} sx={{flexGrow: 2, marginTop: 4}}>\n          <Switch>\n            {config.map(({path, Component, ...props}, idx) =>\n              <Route\n                key={idx}\n                path={path}\n                {...props}\n              >\n                <Component {...props} />\n              </Route>\n            )}\n          </Switch>\n        </Paper>\n\n      </Box>\n    </Container>\n\n  )\n}","import React, {useState} from \"react\";\nimport {BrowserRouter as Router, Route, Switch} from \"react-router-dom\";\n\nimport '@fontsource/roboto/300.css';\nimport '@fontsource/roboto/400.css';\nimport '@fontsource/roboto/500.css';\nimport '@fontsource/roboto/700.css';\nimport {CssBaseline} from \"@material-ui/core\";\nimport {createTheme, ThemeProvider} from '@material-ui/core/styles';\n\nimport {UserContext, defaultUserData} from \"./contexts\";\nimport AppBar from './components/AppBar';\nimport HomeRoute from \"./routes/HomeRoute\";\nimport {USER_TYPE} from \"./constants\";\nimport DashboardRoute from \"./routes/DashboardRoute\";\nimport {logout} from \"./api/auth\";\n\nconst theme = createTheme({});\nconst isOnGithubIO = window.location.hostname.toLowerCase() === 'lesterlyu.github.io';\n\nfunction App() {\n  const [userState, setUserState] = useState({\n    ...defaultUserData,\n    // Methods to modify user context.\n    login: (userData) => {\n      localStorage.setItem('userData', JSON.stringify(userData));\n      setUserState(state => ({...state, ...userData}));\n    },\n    logout: () => {\n      logout().then(() => {\n        setUserState(state => ({\n          ...state,\n          username: '',\n          email: '',\n          type: USER_TYPE.GUEST\n        }));\n        localStorage.removeItem('userData');\n      });\n    },\n  });\n\n  return (\n    <div className=\"App\">\n      <ThemeProvider theme={theme}>\n        <CssBaseline/>\n        <UserContext.Provider value={userState}>\n          <Router basename={isOnGithubIO ? '/CourseOracle' : undefined}>\n            <AppBar/>\n            <Switch>\n              <Route path=\"/dashboard\" component={DashboardRoute}/>\n              <Route path=\"/\" component={HomeRoute}/>\n            </Switch>\n          </Router>\n        </UserContext.Provider>\n      </ThemeProvider>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}