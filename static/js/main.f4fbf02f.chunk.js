(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{160:function(e,t,n){},183:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(49),i=n.n(c),o=(n(160),n(14)),s=n(8),l=n(32),j=n(21),u=(n(161),n(162),n(163),n(164),n(261)),d=n(129),h=n(277),b=0,p=1,x="http://localhost:3001/api/",O=JSON.parse(localStorage.getItem("userData")),m=Object(o.a)(Object(o.a)({firstName:"",lastName:"",email:"",type:b},O||{}),{},{login:function(){},logout:function(){}}),f=r.a.createContext(m),g=n(281),v=n(280),y=n(283),C=n(98),w=n(284),k=n(279),S=n(0);function W(e){var t=e.children,n=e.href,a=Object(j.f)();return Object(S.jsx)(k.a,{href:n,variant:"h6",color:"inherit",underline:"none",sx:{paddingRight:4,fontSize:17},onClick:function(e){e.preventDefault(),a.push(n)},children:t})}function P(){var e=Object(j.f)(),t=Object(a.useContext)(f),n=function(t){return function(){return e.push(t)}};return Object(S.jsx)(v.a,{sx:{flexGrow:1},children:Object(S.jsx)(g.a,{position:"static",sx:{bgcolor:"#242424"},children:Object(S.jsxs)(y.a,{children:[Object(S.jsx)("img",{src:"/CourseOracle/logo3.png",height:30,style:{paddingRight:8}}),Object(S.jsx)(C.a,{variant:"h6",component:"div",sx:{pr:6,cursor:"pointer"},onClick:n("/"),children:"Course Oracle"}),Object(S.jsxs)(v.a,{sx:{display:"flex",flexGrow:6},children:[Object(S.jsx)(W,{href:"/",children:"Search"}),Object(S.jsx)(W,{href:"/courses",children:"Courses"}),Object(S.jsx)(W,{href:"/schools",children:"Schools"})]}),Object(S.jsx)(w.a,{color:"inherit",onClick:n("/faq"),children:"FAQ"}),t.type===b?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(w.a,{color:"inherit",onClick:n("/register"),children:"Register"}),Object(S.jsx)(w.a,{color:"inherit",variant:"outlined",sx:{ml:1},onClick:n("/login"),children:"Login"})]}):Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(w.a,{color:"inherit",onClick:n("/dashboard"),children:"Dashboard"}),Object(S.jsx)(w.a,{color:"inherit",onClick:function(){return t.logout()||e.push("/")},children:"log out"})]})]})})})}var T=n(40),I=n(3),N=n(4),B=n(184),M=n(26),E=n(285),R=n(282),F=n(244),L=n(286),z=n(287),D=n(267),A=n(125),U=n.n(A),_=n(274);function q(e){var t=e.children;return Object(S.jsx)(v.a,{sx:{height:"calc(100vh - 64px)",background:"linear-gradient(to bottom, #a285d4 0%,#6f90b3 100%)"},children:t})}function J(e){var t=e.children;return Object(S.jsx)(v.a,{sx:{height:"calc(100vh - 64px)",backgroundImage:'url("'.concat("/CourseOracle",'/homepage_bg-min.jpg")'),backgroundSize:"1920px 1280px"},children:t})}var Y=Object(N.a)("div")((function(e){var t=e.theme;return{position:"relative",borderRadius:t.shape.borderRadius,backgroundColor:Object(B.a)(t.palette.common.white,.15),"&:hover":{backgroundColor:Object(B.a)(t.palette.common.white,.25)},marginLeft:0,width:"100%"}})),G=Object(N.a)("div")((function(e){return{padding:e.theme.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}})),H=Object(N.a)(M.c)((function(e){var t=e.theme;return{color:"inherit","& .MuiInputBase-input":{padding:t.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(t.spacing(4),")"),width:"100%"}}})),K=Object(N.a)(D.a)({color:"#ccc","&.Mui-checked":{color:"#ccc"}});var Q=n(271),X=n(251),V=n(288),Z=Object(N.a)(w.a)((function(){return{backgroundColor:"#3b924a","&:hover":{backgroundColor:"#219d3a"},"&:active":{backgroundColor:"#3b924a"}}})),$=Object(N.a)(V.a)((function(){return{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}));function ee(e){var t=e.loading,n=e.children,a=(e.noDefaultStyle,Object(T.a)(e,["loading","children","noDefaultStyle"]));return Object(S.jsxs)(v.a,{sx:{position:"relative",display:"initial"},children:[Object(S.jsx)(Z,Object(o.a)(Object(o.a)({variant:"contained",disabled:t},a),{},{children:n||"Submit"})),t&&Object(S.jsx)($,{size:24})]})}var te=n(16),ne=n.n(te),ae=n(23),re={address:"https://co.lesterlyu.com"},ce=n(65),ie=n(89),oe=n(93),se=n(130),le=function(e){Object(ie.a)(n,e);var t=Object(oe.a)(n);function n(){return Object(ce.a)(this,n),t.call(this,"Login Session Expired. Redirecting to login page.")}return n}(Object(se.a)(Error)),je=function(e){if(!0===e.error&&2===e.code)throw localStorage.removeItem("userContext"),window.stop(),window.location.replace("/login"),new le;return e},ue=function(){var e=Object(ae.a)(ne.a.mark((function e(t,n){var a;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(re.address).concat(t),{method:"POST",body:n?JSON.stringify(n):void 0,headers:{"Content-Type":"application/json"},credentials:"include"});case 2:return a=e.sent,e.t0=je,e.next=6,a.json();case 6:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),de=function(){var e=Object(ae.a)(ne.a.mark((function e(t,n){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue("/api/login",{email:t,password:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),he=function(){var e=Object(ae.a)(ne.a.mark((function e(t){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue("/api/register",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),be=function(){var e=Object(ae.a)(ne.a.mark((function e(){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue("/api/logout");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pe=Object(N.a)(R.a)((function(e){var t=e.theme;return Object(I.a)({padding:40},t.breakpoints.down("sm"),{margin:0,padding:14,marginTop:10})})),xe=Object(N.a)(k.a)((function(e){e.theme;return{fontSize:15,lineHeight:2,color:"#007dff",cursor:"pointer",fontWeight:500}}));function Oe(){return Object(S.jsxs)(C.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(S.jsx)(k.a,{color:"inherit",href:"/",children:"CourseOracle"})," ",(new Date).getFullYear(),"."]})}var me=Object(N.a)(R.a)((function(e){var t=e.theme;return Object(I.a)({padding:40},t.breakpoints.down("sm"),{margin:0,padding:14,marginTop:10})})),fe=Object(N.a)(k.a)((function(e){e.theme;return{fontSize:15,lineHeight:2,color:"#007dff",cursor:"pointer",fontWeight:500}}));var ge=[{path:"/",exact:!0,Component:function(){var e=r.a.useState({checkedA:!0,checkedB:!0,checkedC:!0}),t=Object(s.a)(e,2),n=t[0],a=t[1],c=function(e){a(Object(o.a)(Object(o.a)({},n),{},Object(I.a)({},e.target.name,e.target.checked)))};return Object(S.jsx)(J,{children:Object(S.jsxs)(E.a,{justify:"center",children:[Object(S.jsx)(v.a,{sx:{display:"flex"},children:Object(S.jsx)(C.a,{variant:"h1",fontFamily:"sans-serif",fontSize:60,sx:{pt:5,color:"#eee",fontWeight:500,pb:5},children:"Course Oracle"})}),Object(S.jsx)(R.a,{sx:{height:"300px",pt:5,borderRadius:10,bgcolor:"rgb(36,36,36, 0.85)"},children:Object(S.jsxs)(_.a,{container:!0,spacing:4,sx:{marginTop:"40px"},justifyContent:"center",children:[Object(S.jsx)(_.a,{item:!0,xs:6,md:8,children:Object(S.jsxs)(_.a,{container:!0,direction:"column",alignItems:"stretch",children:[Object(S.jsx)(_.a,{item:!0,children:Object(S.jsx)(R.a,{children:Object(S.jsxs)(Y,{children:[Object(S.jsx)(G,{children:Object(S.jsx)(F.a,{})}),Object(S.jsx)(H,{placeholder:"Search for course\u2026"})]})})}),Object(S.jsx)(_.a,{item:!0,children:Object(S.jsx)(v.a,{sx:{pt:2},children:Object(S.jsxs)(L.a,{row:!0,children:[Object(S.jsx)(z.a,{sx:{color:"white"},control:Object(S.jsx)(K,{checked:n.checkedA,onChange:c,name:"checkedA",color:"primary"}),label:"Course Materials"}),Object(S.jsx)(z.a,{sx:{color:"white"},control:Object(S.jsx)(K,{checked:n.checkedB,onChange:c,name:"checkedB"}),label:"Course Past Exams"}),Object(S.jsx)(z.a,{sx:{color:"white"},control:Object(S.jsx)(K,{checked:n.checkedC,onChange:c,name:"checkedC",color:"primary"}),label:"Course Ratings"})]})})})]})}),Object(S.jsx)(_.a,{item:!0,xs:4,md:2,children:Object(S.jsx)(w.a,{sx:{mt:"-1px"},size:"large",variant:"contained",color:"primary",endIcon:Object(S.jsx)(U.a,{}),children:"Search"})})]})})]})})}},{path:"/login",exact:!0,Component:function(){var e=Object(j.f)(),t=Object(a.useContext)(f);t.type!==b&&e.push("/dashboard");var n=Object(a.useState)({email:"",password:"",alert:""}),r=Object(s.a)(n,2),c=r[0],i=r[1],l=Object(a.useState)(!1),u=Object(s.a)(l,2),d=u[0],h=u[1],x=function(e){return function(t){var n=t.target.value;i((function(t){return Object(o.a)(Object(o.a)({},t),{},Object(I.a)({},e,n))}))}},O=function(){h(!0),de(c.email,c.password).then((function(n){n.success?(t.login({email:n.data.email,type:p}),e.push("/dashboard")):(h(!1),i((function(e){return Object(o.a)(Object(o.a)({},e),{},{alert:n.message})})))}))};return Object(S.jsx)(q,{children:Object(S.jsxs)(E.a,{maxWidth:"sm",children:[Object(S.jsx)(v.a,{sx:{paddingTop:"40px"}}),Object(S.jsxs)(pe,{elevation:5,onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),O())},children:[Object(S.jsx)(C.a,{variant:"h4",sx:{color:"rgb(0,32,81)",fontWeight:400,marginBottom:3},children:"Login"}),Object(S.jsx)(Q.a,{label:"Email",value:c.email,fullWidth:!0,onChange:x("email"),sx:{minHeight:"80px"}}),Object(S.jsx)("br",{}),Object(S.jsx)(Q.a,{label:"Password",type:"password",value:c.password,fullWidth:!0,onChange:x("password"),sx:{minHeight:"80px"},helperText:c.alert,error:!!c.alert}),Object(S.jsx)(ee,{sx:{marginTop:3,marginBottom:3},onClick:O,loading:d,children:"Log in"}),Object(S.jsx)(w.a,{color:"info",variant:"contained",sx:{marginLeft:2,marginTop:3,marginBottom:3},children:"Log in from Wallet"}),Object(S.jsx)(X.a,{}),Object(S.jsx)(xe,{variant:"body2",onClick:function(){return e.push("/register")},children:"Don't have an account? Sign up"}),Object(S.jsx)("br",{}),Object(S.jsx)(xe,{variant:"body2",children:"Forgot password?"})]})]})})}},{path:"/register",exact:!0,Component:function(){var e=Object(j.f)(),t=Object(a.useState)({firstName:"",lastName:"",email:"",password:"",alert:""}),n=Object(s.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)(!1),l=Object(s.a)(i,2),u=l[0],d=l[1],h=function(e){return function(t){var n=t.target.value;c((function(t){return Object(o.a)(Object(o.a)({},t),{},Object(I.a)({},e,n))}))}},b=function(){d(!0);var t=r.password,n=r.email,a=r.firstName,i=r.lastName;he({password:t,email:n,firstName:a,lastName:i}).then((function(t){t.success?e.push("/login"):(d(!1),c((function(e){return Object(o.a)(Object(o.a)({},e),{},{alert:t.message})})))}))};return Object(S.jsx)(q,{children:Object(S.jsxs)(E.a,{maxWidth:"sm",children:[Object(S.jsx)(v.a,{sx:{paddingTop:"40px"}}),Object(S.jsxs)(me,{elevation:5,onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),b())},children:[Object(S.jsx)(C.a,{variant:"h4",sx:{color:"rgb(0,32,81)",fontWeight:400,marginBottom:3},children:"Sign up"}),Object(S.jsxs)(_.a,{container:!0,spacing:2,children:[Object(S.jsx)(_.a,{item:!0,xs:12,children:Object(S.jsx)(Q.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",value:r.firstName,onChange:h("firstName"),autoFocus:!0})}),Object(S.jsx)(_.a,{item:!0,xs:12,children:Object(S.jsx)(Q.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",value:r.lastName,onChange:h("lastName"),autoComplete:"lname"})}),Object(S.jsx)(_.a,{item:!0,xs:12,children:Object(S.jsx)(Q.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",value:r.email,onChange:h("email"),autoComplete:"email"})}),Object(S.jsx)(_.a,{item:!0,xs:12,children:Object(S.jsx)(Q.a,{variant:"outlined",required:!0,fullWidth:!0,id:"confirmEmail",label:"Confirm Email",name:"email",autoComplete:"confirmEmail"})}),Object(S.jsx)(_.a,{item:!0,xs:12,children:Object(S.jsx)(Q.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",value:r.password,onChange:h("password"),helperText:r.alert,error:!!r.alert,autoComplete:"current-password"})}),Object(S.jsx)(_.a,{item:!0,xs:12,children:Object(S.jsx)(Q.a,{variant:"outlined",required:!0,fullWidth:!0,name:"confirmPassword",label:"Confirm Password",type:"password",id:"confirmPassword",autoComplete:"confirmPassword"})}),Object(S.jsx)(_.a,{item:!0,xs:12,children:Object(S.jsx)(z.a,{control:Object(S.jsx)(D.a,{value:"allowExtraEmails",color:"primary"}),label:"I agree to the terms of use and privacy policy."})})]}),Object(S.jsx)(ee,{onClick:b,loading:u,children:"Sign Up"}),Object(S.jsx)(_.a,{container:!0,justifyContent:"flex-end",children:Object(S.jsx)(_.a,{item:!0,children:Object(S.jsx)(fe,{variant:"body2",onClick:function(){return e.push("/login")},children:"Already have an account? Sign in"})})})]}),Object(S.jsx)(v.a,{mt:5,children:Object(S.jsx)(Oe,{})})]})})}}];function ve(){return Object(S.jsx)(j.c,{children:ge.map((function(e,t){var n=e.path,a=e.Component,r=Object(T.a)(e,["path","Component"]);return Object(S.jsx)(j.a,Object(o.a)(Object(o.a)({path:n},r),{},{children:Object(S.jsx)(a,Object(o.a)({},r))}),t)}))})}function ye(){return Object(S.jsx)(C.a,{variant:"h1",fontSize:40,sx:{pt:5},children:"Profile Page Placeholder"})}var Ce=n(252),we=n(253),ke=n(254),Se=n(255),We=n(256),Pe=n(257),Te=n(258),Ie=[{path:"/dashboard",exact:!0,Component:ye},{path:"/dashboard/profile",exact:!0,Component:ye},{path:"/dashboard/my-materials",exact:!0,Component:function(){return Object(S.jsx)(C.a,{variant:"h1",fontSize:40,sx:{pt:5},children:"MyMaterials.js"})}},{path:"/dashboard/my-reviews",exact:!0,Component:function(){return Object(S.jsx)(C.a,{variant:"h1",fontSize:40,sx:{pt:5},children:"MyReviews.js"})}},{path:"/dashboard/purchase",exact:!0,Component:function(){return Object(S.jsx)(C.a,{variant:"h1",fontSize:40,sx:{pt:5},children:"Purchase.js"})}},{path:"/dashboard/rate-course",exact:!0,Component:function(){return Object(S.jsx)(C.a,{variant:"h1",fontSize:40,sx:{pt:5},children:"RateCourse.js"})}},{path:"/dashboard/upload",exact:!0,Component:function(){return Object(S.jsx)(C.a,{variant:"h1",fontSize:40,sx:{pt:5},children:"UploadCourseMaterial.js"})}}],Ne=[{label:"My Profile",Icon:Ce.a,path:"/dashboard/profile"},{label:"My Materials",Icon:we.a,path:"/dashboard/my-materials"},{label:"My Reviews",Icon:ke.a,path:"/dashboard/my-reviews"},{label:"Purchase",Icon:Se.a,path:"/dashboard/purchase"},{label:"Rate Course",Icon:We.a,path:"/dashboard/rate-course"},{label:"Upload Materials",Icon:Pe.a,path:"/dashboard/upload"},{label:"Contact Us",Icon:Te.a,path:"/dashboard/help"}],Be=n(293),Me=n(295),Ee=n(259),Re=n(260);function Fe(e){var t=e.config,n=Object(j.f)();return Object(S.jsx)(R.a,{variant:"outlined",sx:{marginTop:4,marginRight:2},children:Object(S.jsxs)(Be.a,{dense:!0,children:[Object(S.jsx)(C.a,{sx:{fontWeight:500,paddingLeft:2,paddingBottom:1,pt:1},children:"Dashboard"}),t.map((function(e){var t=e.label,a=e.Icon,r=e.path;return Object(S.jsxs)(Me.a,{onClick:function(){return n.push(r)},children:[Object(S.jsx)(Ee.a,{children:Object(S.jsx)(a,{fontSize:"small"})}),Object(S.jsx)(Re.a,{children:t})]},t)}))]})})}function Le(){var e=Object(a.useContext)(f);return Object(S.jsxs)(E.a,{children:[Object(S.jsx)(v.a,{sx:{paddingTop:3}}),Object(S.jsxs)(C.a,{variant:"h1",fontSize:30,children:["Hello ",e.username," Icon here"]}),Object(S.jsxs)(v.a,{sx:{display:"flex"},children:[Object(S.jsx)(v.a,{sx:{flexGrow:1,maxWidth:"250px"},children:Object(S.jsx)(Fe,{config:Ne})}),Object(S.jsx)(R.a,{elevation:3,sx:{flexGrow:2,marginTop:4},children:Object(S.jsx)(j.c,{children:Ie.map((function(e,t){var n=e.path,a=e.Component,r=Object(T.a)(e,["path","Component"]);return Object(S.jsx)(j.a,Object(o.a)(Object(o.a)({path:n},r),{},{children:Object(S.jsx)(a,Object(o.a)({},r))}),t)}))})})]})]})}var ze=n(296),De=n(299),Ae=n(298),Ue=n(297),_e=n(292),qe=n(294),Je=n(270),Ye=n(57),Ge=n.n(Ye);function He(e){var t=Object(a.useContext)(f),n=e.product,c=e.handleClose,i=e.materials,o=e.setMaterials,l=r.a.useState(1),j=Object(s.a)(l,2),u=j[0],d=j[1];return Object(S.jsxs)("div",{children:[Object(S.jsx)(_.a,{children:Object(S.jsx)("span",{children:"Rate this material!"})}),Object(S.jsxs)(_.a,{children:[Object(S.jsxs)(Ge.a,{rating:u,widgetRatedColors:"orange",changeRating:function(e){return d(e)},children:[Object(S.jsx)(Ge.a.Widget,{onClick:function(){return d(1)}}),Object(S.jsx)(Ge.a.Widget,{}),Object(S.jsx)(Ge.a.Widget,{}),Object(S.jsx)(Ge.a.Widget,{}),Object(S.jsx)(Ge.a.Widget,{})]}),Object(S.jsxs)("span",{children:[u," Stars"]})]}),Object(S.jsxs)(_.a,{children:[Object(S.jsx)(w.a,{variant:"outlined",color:"primary",onClick:c,children:"skip"}),Object(S.jsx)(w.a,{variant:"contained",color:"primary",onClick:function(){fetch("http://localhost:3001/api/material/rate",{method:"post",body:JSON.stringify({userEmail:t.email,materialId:n.id,rate:u}),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){if(e.error)alert(e.error);else{var t=[];i.forEach((function(e){n.id===e.id&&(e.status=2),t.push(e)})),o(t)}}))},children:"Submit"})]})]})}function Ke(e){var t=Object(a.useContext)(f),n=e.handleClose,r=e.product,c=Object(a.useState)(0),i=Object(s.a)(c,2),o=i[0],l=i[1];return Object(S.jsxs)("div",{children:[Object(S.jsx)(_.a,{children:"Reward Offerer"}),Object(S.jsx)(_.a,{children:Object(S.jsx)("input",{type:"number",placeholder:o,onChange:function(e){e.target.value<0?alert("You should type a positive number"):l(e.target.value)}})}),Object(S.jsxs)(_.a,{children:[Object(S.jsx)(w.a,{variant:"outlined",color:"primary",onClick:n,children:"Cancel"}),Object(S.jsx)(w.a,{variant:"contained",color:"primary",onClick:function(){fetch("http://localhost:3001/api/material/tip",{method:"post",body:JSON.stringify({userEmail:t.email,materialId:r.id,tip:o}),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){e.error?alert(e.error):n()}))},children:"Submit"})]})]})}var Qe=Object(N.a)(Je.a)((function(){return{padding:20}}));function Xe(e){var t=Object(a.useContext)(f),n=e.product,c=e.handleClose,i=e.materials,o=e.setMaterials;return Object(S.jsxs)(r.a.Fragment,{children:[0===n.status&&Object(S.jsxs)(r.a.Fragment,{children:[Object(S.jsx)(C.a,{variant:"h6",gutterBottom:!0,children:"Order summary"}),Object(S.jsxs)(qe.a,{children:[Object(S.jsxs)(Qe,{children:[Object(S.jsx)(Re.a,{primary:n.school+" "+n.course+" "+n.year+" "+n.semester+" "+n.prof[0],secondary:n.type}),Object(S.jsx)(C.a,{variant:"body1",children:n.price})]},n.id),Object(S.jsxs)(Qe,{children:[Object(S.jsx)(Re.a,{primary:"Total"}),Object(S.jsx)(C.a,{variant:"subtitle1",style:{fontWeight:700},children:Object(S.jsx)("span",{children:n.price})})]}),Object(S.jsxs)(Qe,{children:[Object(S.jsx)(w.a,{variant:"outlined",color:"primary",onClick:c,children:"Close"}),Object(S.jsx)(C.a,{style:{fontWeight:700},children:Object(S.jsx)(w.a,{variant:"contained",color:"primary",onClick:function(e){fetch("http://localhost:3001/api/material/purchase",{method:"post",body:JSON.stringify({userEmail:t.email,materialId:n.id,price:n.price}),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){if(console.log(e),!e.error){var t=[];i.forEach((function(e){n.id===e.id&&(e.status=1),t.push(e)})),o(t)}}))},children:"Buy"})})]})]})]}),1===n.status&&Object(S.jsx)(He,{product:n,handleClose:c,materials:i,setMaterials:o}),2===n.status&&Object(S.jsx)(Ke,{product:n,handleClose:c,materials:i,setMaterials:o})]})}var Ve=Object(N.a)(ze.a)((function(){return{height:"100%",display:"flex",flexDirection:"column"}}));var Ze=[{path:"/materials",exact:!0,Component:function(){var e=Object(a.useContext)(f),t=new URLSearchParams(window.location.search).get("course"),n=new URLSearchParams(window.location.search).get("institution"),c=Object(a.useState)({professors:[]}),i=Object(s.a)(c,2),o=i[0],l=i[1],j=r.a.useState(null),d=Object(s.a)(j,2),h=d[0],b=d[1],p=r.a.useState(null),O=Object(s.a)(p,2),m=O[0],g=O[1],v=Object(a.useState)([]),y=Object(s.a)(v,2),k=y[0],W=y[1];function P(){return T.apply(this,arguments)}function T(){return(T=Object(ae.a)(ne.a.mark((function a(){var r,c;return ne.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=x+"materials?course="+t+"&institution="+n+"&buyerEmail="+e.email,a.next=3,fetch(r,{method:"get",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then((function(e){return e.ok?(console.log("ok"),e.json()):(alert("fail"),e.json())}));case 3:return c=a.sent,l(c.course),W(c.courseMaterial),a.abrupt("return",c);case 7:case"end":return a.stop()}}),a)})))).apply(this,arguments)}Object(a.useEffect)(Object(ae.a)(ne.a.mark((function e(){var t;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:t=e.sent,console.log(t);case 4:case"end":return e.stop()}}),e)}))),[]);var I=function(e){g(e.target.value),b({top:e.clientY,left:e.clientX})},N=function(){b(null)},B=Object(a.useState)("contained"),M=Object(s.a)(B,2),R=M[0],F=M[1],L=Object(a.useState)("outlined"),z=Object(s.a)(L,2),D=z[0],A=z[1],U=Object(a.useState)("outlined"),q=Object(s.a)(U,2),J=q[0],Y=q[1],G=Object(a.useState)("outlined"),H=Object(s.a)(G,2),K=H[0],Q=H[1],X=Object(a.useState)("outlined"),V=Object(s.a)(X,2),Z=V[0],$=V[1];function ee(){return(ee=Object(ae.a)(ne.a.mark((function e(){var t;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F("contained"),A("outlined"),Y("outlined"),Q("outlined"),$("outlined"),e.next=7,P();case 7:t=e.sent,W(t.courseMaterial);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(){return(te=Object(ae.a)(ne.a.mark((function e(){var t;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F("outlined"),A("contained"),Y("outlined"),Q("outlined"),$("outlined"),e.next=7,P();case 7:t=e.sent,W(t.courseMaterial.filter((function(e){return"Student Course Note"===e.type})));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(){return(re=Object(ae.a)(ne.a.mark((function e(){var t;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F("outlined"),A("outlined"),Y("contained"),Q("outlined"),$("outlined"),e.next=7,P();case 7:t=e.sent,W(t.courseMaterial.filter((function(e){return"Professor Course Note"===e.type})));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(){return(ce=Object(ae.a)(ne.a.mark((function e(t){var n;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F("outlined"),A("outlined"),Y("outlined"),Q("contained"),$("outlined"),e.next=7,P();case 7:n=e.sent,W(n.courseMaterial.filter((function(e){return"Past Exam"===e.type})));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(){return(ie=Object(ae.a)(ne.a.mark((function e(t){var n;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F("outlined"),A("outlined"),Y("outlined"),Q("outlined"),$("contained"),e.next=7,P();case 7:n=e.sent,W(n.courseMaterial.filter((function(e){return"Final Exam"===e.type})));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(S.jsxs)(r.a.Fragment,{children:[Object(S.jsx)(u.a,{}),Object(S.jsxs)("main",{children:[Object(S.jsx)("div",{style:{padding:"10px"},children:Object(S.jsxs)(E.a,{maxWidth:"sm",children:[Object(S.jsx)(C.a,{component:"h1",variant:"h2",align:"center",color:"textPrimary",gutterBottom:!0,children:t}),Object(S.jsxs)(C.a,{variant:"h5",align:"center",color:"textSecondary",paragraph:!0,children:["school: ",n]}),Object(S.jsxs)(C.a,{variant:"h5",align:"center",color:"textSecondary",paragraph:!0,children:["professors: ",o.professors.map((function(e){return Object(S.jsx)("a",{href:"prof/"+e,children:e+" "},e)}))]}),Object(S.jsxs)(C.a,{variant:"h5",align:"center",color:"textSecondary",paragraph:!0,children:["Description: ",o.description]}),Object(S.jsx)("div",{style:{marginTop:"5px"},children:Object(S.jsxs)(_.a,{container:!0,spacing:2,justifyContent:"center",children:[Object(S.jsx)(_.a,{item:!0,children:Object(S.jsx)(w.a,{variant:R,color:"primary",onClick:function(){return ee.apply(this,arguments)},children:"All"})}),Object(S.jsx)(_.a,{item:!0,children:Object(S.jsx)(w.a,{variant:D,color:"primary",onClick:function(){return te.apply(this,arguments)},children:"Student Course Note"})}),Object(S.jsx)(_.a,{item:!0,children:Object(S.jsx)(w.a,{variant:J,color:"primary",onClick:function(){return re.apply(this,arguments)},children:"Professor Course Note"})}),Object(S.jsx)(_.a,{item:!0,children:Object(S.jsx)(w.a,{variant:K,color:"primary",onClick:function(e){return ce.apply(this,arguments)},children:"Past Exam"})}),Object(S.jsx)(_.a,{item:!0,children:Object(S.jsx)(w.a,{variant:Z,color:"primary",onClick:function(e){return ie.apply(this,arguments)},children:"Final Exam"})})]})})]})}),Object(S.jsx)(E.a,{style:{paddingTop:"5px",paddingBottom:"5px"},maxWidth:"md",children:Object(S.jsx)(_.a,{container:!0,spacing:4,children:k.map((function(e){return Object(S.jsx)(_.a,{item:!0,xs:12,sm:6,md:4,children:Object(S.jsxs)(Ve,{children:[Object(S.jsx)(Ue.a,{style:{paddingTop:"56.25%"},image:e.cover_page,title:"Image title"}),Object(S.jsxs)(Ae.a,{style:{flexGrow:1},children:[Object(S.jsxs)(C.a,{gutterBottom:!0,variant:"h5",component:"h2",children:["semester: ",e.year," - ",e.semester]}),Object(S.jsxs)(C.a,{children:["price: ",e.price]}),Object(S.jsxs)(C.a,{children:["type: ",e.type]}),Object(S.jsxs)(C.a,{children:["offer_by: ",e.offer_by]}),Object(S.jsxs)(C.a,{children:["prof: ",e.prof.map((function(e){return Object(S.jsx)("a",{href:"profs/"+e,children:e+" "},e)}))]}),Object(S.jsxs)(C.a,{children:["like: ",e.like]}),Object(S.jsxs)(C.a,{children:["unlike: ",e.unlike]})]}),Object(S.jsxs)(De.a,{children:[0===e.status&&Object(S.jsx)(w.a,{value:e.id,variant:"contained",color:"primary",onClick:I,children:"Buy"}),1===e.status&&Object(S.jsx)(w.a,{value:e.id,variant:"outlined",color:"primary",onClick:I,children:"Rate"}),2===e.status&&Object(S.jsx)(w.a,{value:e.id,variant:"outlined",color:"secondary",onClick:I,children:"Reward"}),Object(S.jsxs)(_e.a,{open:(t=e.id,t===m&&Boolean(h)),anchorReference:"anchorPosition",anchorPosition:h,onClose:N,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:[0===e.status&&Object(S.jsx)(Xe,{product:e,handleClose:N,materials:k,setMaterials:W}),1===e.status&&Object(S.jsx)(He,{product:e,handleClose:N,materials:k,setMaterials:W}),2===e.status&&Object(S.jsx)(Ke,{product:e,handleClose:N})]})]})]})},e.id);var t}))})})]})]})}}];function $e(){return Object(S.jsx)(j.c,{children:Ze.map((function(e,t){var n=e.path,a=e.Component,r=Object(T.a)(e,["path","Component"]);return Object(S.jsx)(j.a,Object(o.a)(Object(o.a)({path:n},r),{},{render:function(){return Object(S.jsx)(a,Object(o.a)({},r))}}),t)}))})}var et=n(291),tt=n(272),nt=n(268),at=n(289),rt=n(266),ct=n(264),it=n(262),ot=n(263),st=[{id:1,username:"Theo",user_image:"https://source.unsplash.com/random",course:"csc343",school:"University of Toronto",year:2018,semester:"Fall",prof:"Daniela",like:10,unlike:3,score:4,comment:"Be ready to read a lot. Those materials are really helpful"},{id:2,username:"Emily",user_image:"https://source.unsplash.com/random",course:"csc343",school:"University of Toronto",year:2019,semester:"Winter",prof:"Michelle",like:110,unlike:3,score:5,comment:"Cannot ask more, everything is perfect"},{id:3,username:"Lester",user_image:"https://source.unsplash.com/random",course:"csc343",school:"University of Toronto",year:2017,semester:"Summer",prof:"Michelle",like:50,unlike:2,score:3,comment:"Hard to pass the exams"}],lt=["Fall","Summer","Winter"];var jt=[{path:"/rating/:course",exact:!0,Component:function(){var e=window.location.href.split("/")[window.location.href.split("/").length-1],t=Object(a.useState)(lt),n=Object(s.a)(t,2),c=n[0],i=n[1],l=Array.from(new Set(st.map((function(e){return e.prof})))),j=Object(a.useState)(l),u=Object(s.a)(j,2),d=u[0],h=u[1],b=Object(a.useState)(""),p=Object(s.a)(b,2),x=p[0],O=p[1],m=Object(a.useState)(0),f=Object(s.a)(m,2),g=f[0],y=f[1],w=Object(a.useState)(""),k=Object(s.a)(w,2),W=k[0],P=k[1],T=Object(a.useState)(""),I=Object(s.a)(T,2),N=I[0],B=(I[1],Object(a.useState)(2021)),M=Object(s.a)(B,2),E=M[0],R=M[1],F=Object(a.useState)(lt[0]),L=Object(s.a)(F,2),z=L[0],D=L[1];return Object(S.jsxs)(r.a.Fragment,{children:[Object(S.jsx)(v.a,{className:"Title",children:Object(S.jsx)(C.a,{variant:"h1",children:e})}),Object(S.jsxs)(v.a,{pl:3,children:[Object(S.jsxs)(et.a,{width:"100px",style:{margin:5},children:[Object(S.jsx)(tt.a,{id:"semester-selection-label",children:"Semester"}),Object(S.jsx)(nt.a,{labelId:"semester-selection-label",id:"semester-selection",multiple:!0,value:c,onChange:function(e){i(e.target.value)},input:Object(S.jsx)(at.a,{}),style:{minWidth:120},children:lt.map((function(e){return Object(S.jsx)(Me.a,{value:e,children:e},e)}))})]}),Object(S.jsxs)(et.a,{width:"100px",style:{margin:5},children:[Object(S.jsx)(tt.a,{id:"prof-selection-label",children:"Prof"}),Object(S.jsx)(nt.a,{labelId:"prof-selection-label",id:"prof-selection",multiple:!0,value:d,onChange:function(e){h(e.target.value)},input:Object(S.jsx)(at.a,{}),style:{minWidth:120},children:l.map((function(e){return Object(S.jsx)(Me.a,{value:e,children:e},e)}))})]})]}),Object(S.jsx)(v.a,{width:"90%",children:st.map((function(e){return function(e,t){return e.includes(t)}(c,e.semester)&&function(e,t){return e.includes(t)}(d,e.prof)&&Object(S.jsxs)(v.a,{border:1,width:1,m:3,display:"flex",children:[Object(S.jsxs)(v.a,{style:{width:"20%"},borderRight:1,children:[Object(S.jsxs)(v.a,{borderBottom:1,display:"flex",children:[Object(S.jsx)(C.a,{fontWeight:"fontWeightBold",pr:1,children:"User:"}),Object(S.jsx)(C.a,{children:e.username})]}),Object(S.jsx)(Ue.a,{style:{height:0,paddingTop:"56.25%",marginTop:"30"},image:e.user_image,title:"user image"})]}),Object(S.jsxs)(v.a,{style:{width:"80%"},children:[Object(S.jsxs)(v.a,{borderBottom:1,display:"flex",justifyContent:"flex-start",children:[Object(S.jsx)(C.a,{fontWeight:"fontWeightBold",pl:1,pr:1,children:"Prof:"}),Object(S.jsx)(C.a,{children:e.prof}),Object(S.jsx)(C.a,{fontWeight:"fontWeightBold",pl:1,pr:1,children:"Score:"}),Object(S.jsxs)(C.a,{children:[e.score,"/5"]}),Object(S.jsx)(C.a,{fontWeight:"fontWeightBold",pl:1,pr:1,children:"Year:"}),Object(S.jsx)(C.a,{children:e.year}),Object(S.jsx)(C.a,{fontWeight:"fontWeightBold",pl:1,pr:1,children:"Semester:"}),Object(S.jsx)(C.a,{children:e.semester})]}),Object(S.jsxs)(v.a,{pl:1,display:"flex",justifyContent:"flex-start",children:[Object(S.jsxs)(v.a,{style:{width:"80%"},children:[Object(S.jsx)(C.a,{fontWeight:"fontWeightBold",children:"Comment:"}),Object(S.jsx)(C.a,{style:{display:"inline-block"},children:e.comment})]}),Object(S.jsxs)(v.a,{style:{width:"30%"},display:"flex",flexGrow:1,borderLeft:1,children:[Object(S.jsxs)(v.a,{children:[Object(S.jsx)(Ue.a,{style:{height:"100px",width:"100px"},image:"https://www.kindpng.com/picc/m/136-1366147_thumb-up-icon-color-thumbs-up-png-transparent.png",title:"Like"}),Object(S.jsx)(C.a,{align:"center",children:e.like})]}),Object(S.jsxs)(v.a,{pl:5,children:[Object(S.jsx)(Ue.a,{style:{height:"100px",width:"100px"},image:"https://www.pngitem.com/pimgs/m/366-3667940_thumbs-down-icon-png-transparent-png.png",title:"Unlike"}),Object(S.jsx)(C.a,{align:"center",children:e.unlike})]})]})]})]})]},e.id)}))}),Object(S.jsxs)(v.a,{width:"90%",p:3,m:3,border:1,children:[Object(S.jsx)(C.a,{variant:"h6",children:"Add a New Rating"}),Object(S.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={newScore:g,newYear:E,newCourse:N,newProf:x,newSemester:z,newComment:W};console.log(t)},children:[Object(S.jsx)("label",{children:"Score"}),Object(S.jsx)("input",{type:"number",min:"0",max:"5",required:!0,value:g,onChange:function(e){return y(e.target.value)}}),Object(S.jsx)("label",{children:"Year"}),Object(S.jsx)(it.b,{dateAdapter:ot.a,children:Object(S.jsx)(ct.a,{views:["year"],label:"Year",value:E,onChange:function(e){R(e)},renderInput:function(e){return Object(S.jsx)(Q.a,Object(o.a)({},e))}})}),Object(S.jsx)(v.a,{style:{width:"20%"},children:Object(S.jsx)(rt.a,{freeSolo:!0,options:l,disableClearable:!0,onInputChange:function(e,t){O(t)},renderInput:function(e){return Object(S.jsx)(Q.a,Object(o.a)(Object(o.a)({},e),{},{label:"Prof",margin:"normal",variant:"outlined"}))}})}),Object(S.jsx)(v.a,{style:{width:"20%"},children:Object(S.jsx)(rt.a,{renderInput:function(e){return Object(S.jsx)(Q.a,Object(o.a)(Object(o.a)({},e),{},{label:"Semester",variant:"outlined"}))},options:lt,onInputChange:function(e,t){D(t)}})}),Object(S.jsx)("label",{children:"Comment"}),Object(S.jsx)("textarea",{required:!0,value:W,rows:"4",cols:"50",onChange:function(e){return P(e.target.value)}}),Object(S.jsx)("button",{children:"Add Rating"})]})]})]})}}];function ut(){return Object(S.jsx)(j.c,{children:jt.map((function(e,t){var n=e.path,a=e.Component,r=Object(T.a)(e,["path","Component"]);return Object(S.jsx)(j.a,Object(o.a)(Object(o.a)({path:n},r),{},{render:function(){return Object(S.jsx)(a,Object(o.a)({},r))}}),t)}))})}var dt=Object(d.a)({}),ht="lesterlyu.github.io"===window.location.hostname.toLowerCase();var bt=function(){var e=Object(a.useState)(Object(o.a)(Object(o.a)({},m),{},{login:function(e){localStorage.setItem("userData",JSON.stringify(e)),r((function(t){return Object(o.a)(Object(o.a)({},t),e)}))},logout:function(){be().then((function(){r((function(e){return Object(o.a)(Object(o.a)({},e),{},{username:"",email:"",type:b})})),localStorage.removeItem("userData")}))}})),t=Object(s.a)(e,2),n=t[0],r=t[1];return Object(S.jsx)("div",{className:"App",children:Object(S.jsxs)(h.a,{theme:dt,children:[Object(S.jsx)(u.a,{}),Object(S.jsx)(f.Provider,{value:n,children:Object(S.jsxs)(l.a,{basename:ht?"/CourseOracle":void 0,children:[Object(S.jsx)(P,{}),Object(S.jsxs)(j.c,{children:[Object(S.jsx)(j.a,{path:"/materials",component:$e}),Object(S.jsx)(j.a,{path:"/dashboard",component:Le}),Object(S.jsx)(j.a,{path:"/rating",component:ut}),Object(S.jsx)(j.a,{path:"/",component:ve})]})]})})]})})},pt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,301)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};i.a.render(Object(S.jsx)(r.a.StrictMode,{children:Object(S.jsx)(bt,{})}),document.getElementById("root")),pt()}},[[183,1,2]]]);
//# sourceMappingURL=main.f4fbf02f.chunk.js.map